(this["webpackJsonpway-of-samurai"]=this["webpackJsonpway-of-samurai"]||[]).push([[0],{114:function(e,t,a){"use strict";a.d(t,"d",(function(){return x})),a.d(t,"e",(function(){return _})),a.d(t,"c",(function(){return w})),a.d(t,"b",(function(){return N})),a.d(t,"f",(function(){return S}));var n=a(9),s=a.n(n),c=a(23),i=a(15),r=a(2),o=a(14),l=function(e,t,a,n){return e.map((function(e){return e[a]===t?Object(r.a)(Object(r.a)({},e),n):e}))},u="network/users/FOLLOW",d="network/users/UNFOLLOW",j="network/users/SET_USERS",b="network/users/SET_CURRENT_PAGE",p="network/users/SET_TOTAL_USERS_COUNT",f="network/users/TOGGLE_IS_FETCH",h="network/users/TOGGLE_IS_FOLLOWING_PROGRESS",O={users:[],pagesSize:100,totalUsersCount:0,currentPage:1,isFetch:!1,followingInProgress:[]},m=function(e){return{type:u,userId:e}},v=function(e){return{type:d,userId:e}},x=function(e){return{type:b,currentPage:e}},g=function(e){return{type:f,isFetch:e}},_=function(e,t){return{type:h,isFetching:e,userId:t}},w=function(e,t){return function(){var a=Object(c.a)(s.a.mark((function a(n){var c;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n(g(!0)),n(x(e)),a.next=4,o.c.getUsers(e,t);case 4:c=a.sent,n(g(!1)),n((i=c.items,{type:j,users:i})),n((s=c.totalCount,{type:p,totalUsersCount:s}));case 8:case"end":return a.stop()}var s,i}),a)})));return function(e){return a.apply(this,arguments)}}()},k=function(){var e=Object(c.a)(s.a.mark((function e(t,a,n,c){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(_(!0,a)),e.next=3,n(a);case 3:0===e.sent.data.resultCode&&t(c(a)),t(_(!1,a));case 6:case"end":return e.stop()}}),e)})));return function(t,a,n,s){return e.apply(this,arguments)}}(),N=function(e){return function(t){k(t,e,o.c.followUser.bind(o.c),m)}},S=function(e){return function(t){k(t,e,o.c.unFollowUser.bind(o.c),v),t(_(!0,e))}};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:return Object(r.a)(Object(r.a)({},e),{},{users:l(e.users,t.userId,"id",{followed:!0})});case d:return Object(r.a)(Object(r.a)({},e),{},{users:l(e.users,t.userId,"id",{followed:!1})});case j:return Object(r.a)(Object(r.a)({},e),{},{users:t.users});case b:return Object(r.a)(Object(r.a)({},e),{},{currentPage:t.currentPage});case p:return Object(r.a)(Object(r.a)({},e),{},{totalUsersCount:t.totalUsersCount});case f:return Object(r.a)(Object(r.a)({},e),{},{isFetch:t.isFetch});case h:return Object(r.a)(Object(r.a)({},e),{},{followingInProgress:t.isFetching?[].concat(Object(i.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!==t.userId}))});default:return e}}},117:function(e,t,a){e.exports={music:"Music_music__jAZj9"}},118:function(e,t,a){e.exports={settings:"Settings_settings__vgBiU"}},124:function(e,t,a){},14:function(e,t,a){"use strict";a.d(t,"c",(function(){return c})),a.d(t,"b",(function(){return i})),a.d(t,"a",(function(){return r}));var n=a(115),s=n.create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":"7143f507-a8a7-4262-988c-7695e2a8a1e3"}}),c={getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return s.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},getProfile:function(e){return console.warn("Obsolete method. Please use profileAPI.getProfile object."),i.getProfile(e)},followUser:function(e){return s.post("follow/".concat(e))},unFollowUser:function(e){return s.delete("follow/".concat(e))}},i={sendPhoto:function(e){return s.post("profile/photo",e)},getProfile:function(e){return s.get("profile/".concat(e))},getStatus:function(e){return s.get("profile/status/".concat(e))},updateStatus:function(e){return s.put("profile/status/",{status:e})},setMainPhotoApi:function(e){var t=new FormData;return t.append("image",e),s.put("profile/photo/",t,{headers:{"Content-Type":"multipart/form-data"}})},saveContacts:function(e){return s.put("profile",e)}},r={me:function(){return s.get("auth/me")},login:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3?arguments[3]:void 0;return s.post("/auth/login",{email:e,password:t,rememberMe:a,captcha:n})},logout:function(){return s.delete("/auth/login")},getCaptcha:function(){return s.get("security/get-captcha-url")}}},148:function(e,t,a){},16:function(e,t,a){e.exports={nav:"NavBar_nav__1KW5X",item:"NavBar_item__3EQDI",activeLink:"NavBar_activeLink__1qeZa",settings:"NavBar_settings___SIuJ",friends:"NavBar_friends__3yHn4",navMargin:"NavBar_navMargin__1w9Oc",users:"NavBar_users__362qv",navAndFriends:"NavBar_navAndFriends__36KNC"}},252:function(e,t,a){"use strict";a.r(t);var n=function(e){e&&e instanceof Function&&a.e(6).then(a.bind(null,257)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,c=t.getLCP,i=t.getTTFB;a(e),n(e),s(e),c(e),i(e)}))},s=(a(124),a(30)),c=a(82),i=a(9),r=a.n(i),o=a(23),l=a(15),u=a(2),d=a(14),j="network/profile/ADD-POST",b="network/profile/SET_USERS_PROFILE",p="network/profile/SET_USERS_STATUS",f="network/profile/SET_CONTACTS",h="network/profile/SET_MAIN_PHOTO",O="network/profile/TOGGLE_IS_DOWNLOAD",m={postsState:[{id:1,message:"How are you ?",likescount:3},{id:2,message:"We will rock U",likescount:10},{id:3,message:"Check my Git",likescount:0},{id:4,message:"Check my Greets",likescount:0}],profile:null,status:"",aboutMe:null,isDownload:!1},v=function(e){return{type:p,status:e}},x=function(e){return{type:O,isDownload:e}},g=function(e){return function(){var t=Object(o.a)(r.a.mark((function t(a){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(x(!0)),t.next=3,d.b.getProfile(e);case 3:n=t.sent,a(x(!1)),a((s=n.data,{type:b,profile:s}));case 6:case"end":return t.stop()}var s}),t)})));return function(e){return t.apply(this,arguments)}}()},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return Object(u.a)(Object(u.a)({},e),{},{postsState:[].concat(Object(l.a)(e.postsState),[{id:5,message:t.postText,likescount:0}])});case b:return Object(u.a)(Object(u.a)({},e),{},{profile:t.profile});case p:return Object(u.a)(Object(u.a)({},e),{},{status:t.status});case f:return Object(u.a)(Object(u.a)({},e),{},{profile:Object(u.a)(Object(u.a)({},e.profile),{},{profile:t.profile})});case h:return Object(u.a)(Object(u.a)({},e),{},{profile:Object(u.a)(Object(u.a)({},e.profile),{},{photos:t.file})});case O:return Object(u.a)(Object(u.a)({},e),{},{isDownload:t.isDownload});default:return e}},w=[{id:1,name:"Dimich",avatar:"https://i.ytimg.com/vi/iJ4UGNGzJzY/hqdefault.jpg?sqp=-oaymwEXCOADEI4CSFryq4qpAwkIARUAAIhCGAE=&rs=AOn4CLBnmgSojZdsUkxXfQLs7wK5dW0irw"},{id:2,name:"Maria",avatar:"https://www.seas.harvard.edu/sites/default/files/styles/embedded_image_large/public/images/news/zlatkova_maria_web_square.jpg?itok=Z2IqHSei"},{id:21,name:"Victor",avatar:"https://i.ytimg.com/an/TW0FUhT0m-Bqg2trTbSs0g/featured_channel.jpg?v=5fc22bf3"}],k=function(){return w},N=a(114),S=a(41),y=a(116),D="network/initial/INITIALISED_SUCCESS",C={initialized:!1},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D:return Object(u.a)(Object(u.a)({},e),{},{initialized:!0});default:return e}},A=Object(s.b)({profilePage:_,dialogsPage:c.a,navBar:k,usersPage:N.a,auth:S.b,app:P}),E=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||s.c,F=Object(s.d)(A,E(Object(s.a)(y.a)));window.store=F;var I=F,L=a(57),T=a.n(L),M=a(1),B=a.n(M),U=a(5),H=a(6),z=a(11),G=a(12),V=(a(148),a(10)),R=a(16),q=a.n(R),J=a(18),W=a(91),K=a(0),X=function(e){var t=e.state.map((function(e){return Object(K.jsx)(W.a,{name:e.name,id:e.id,avatar:e.avatar},e.id)}));return Object(K.jsx)("nav",{className:q.a.nav,children:Object(K.jsxs)("div",{className:q.a.navAndFriends,children:[Object(K.jsxs)("div",{className:q.a.navMargin,children:[Object(K.jsx)("div",{className:q.a.item,children:Object(K.jsx)(J.b,{to:"/profile",activeClassName:q.a.activeLink,children:"Profile"})}),Object(K.jsx)("div",{className:q.a.item,children:Object(K.jsx)(J.b,{to:"/dialogs",activeClassName:q.a.activeLink,children:"Messages"})}),Object(K.jsx)("div",{className:q.a.item,children:Object(K.jsx)(J.b,{to:"/news",activeClassName:q.a.activeLink,children:"News"})}),Object(K.jsx)("div",{className:q.a.item,children:Object(K.jsx)(J.b,{to:"/music",activeClassName:q.a.activeLink,children:"Music"})}),Object(K.jsx)("div",{className:"".concat(q.a.item," ").concat(q.a.settings),children:Object(K.jsx)(J.b,{to:"/settings",activeClassName:q.a.activeLink,children:"Settings"})}),Object(K.jsx)("div",{className:q.a.users,children:Object(K.jsx)(J.b,{to:"/users",activeClassName:q.a.activeLink,children:"Users"})}),Object(K.jsx)("div",{className:"".concat(q.a.item," ").concat(q.a.friends),children:"FRIENDS"})]}),t]})})},Y=a(26),Z=Object(Y.b)((function(e){return{state:e.navBar}}),(function(){return{}}))(X),Q=a(36),$=a.n(Q),ee=a(49),te=function(e){return Object(K.jsx)("div",{children:Object(K.jsxs)("div",{className:$.a.wr1,children:[Object(K.jsx)("div",{className:$.a.headLogo,children:Object(K.jsx)("img",{src:"https://cdn.iconscout.com/icon/premium/png-256-thumb/social-connection-7-771032.png",alt:"logo"})}),Object(K.jsx)("div",{children:e.profile?Object(K.jsxs)("div",{className:$.a.loginBlock,children:[Object(K.jsx)("div",{className:$.a.userLogin,children:e.login}),Object(K.jsx)("div",{className:$.a.avaLogin,children:Object(K.jsx)("img",{src:e.profile.photos.small?e.profile.photos.small:ee.a,alt:"avatar"})}),Object(K.jsx)("div",{className:$.a.outBtn,children:Object(K.jsx)("button",{onClick:e.logoutThunk,children:"\u0412\u044b\u0439\u0442\u0438"})})]}):Object(K.jsxs)("div",{className:$.a.loginBlock,children:[Object(K.jsx)(J.b,{to:"/login",children:"Login"}),Object(K.jsx)("img",{src:ee.a,alt:"avatar"})]})})]})})},ae=function(e){Object(z.a)(a,e);var t=Object(G.a)(a);function a(){return Object(U.a)(this,a),t.apply(this,arguments)}return Object(H.a)(a,[{key:"render",value:function(){return Object(K.jsx)(te,Object(u.a)({},this.props))}}]),a}(B.a.Component),ne=Object(Y.b)((function(e){return{login:e.auth.login,isAuth:e.auth.isAuth,id:e.auth.id,email:e.auth.email,profile:e.auth.profile}}),{logoutThunk:S.d})(ae),se=a(117),ce=a.n(se),ie=function(e){return Object(K.jsx)("div",{className:ce.a.music,children:"Music"})},re=function(e){var t=Object(K.jsx)("iframe",{title:"news",width:"800",height:"350",className:"news",src:"http://feeds.feedburner.com/lenta/MpsS"}),a=Object(K.jsx)("iframe",{title:"news",width:"800",height:"350",className:"news",src:"http://feeds.feedburner.com/zakon/vWos"}),n=Object(K.jsx)("iframe",{title:"news",width:"800",height:"350",className:"news",src:"http://feeds.feedburner.com/mail/YeGC"}),s=Object(K.jsx)("iframe",{title:"news",width:"800",height:"350",className:"news",src:"http://feeds.feedburner.com/com/cMiY"}),c=Object(K.jsx)("iframe",{title:"news",width:"800",height:"350",className:"news",src:"http://feeds.feedburner.com/kzt"});return Object(K.jsxs)("div",{children:[Object(K.jsx)("div",{children:t}),Object(K.jsx)("div",{children:a}),Object(K.jsx)("div",{children:n}),Object(K.jsx)("div",{children:s}),Object(K.jsx)("div",{children:c})]})},oe=a(118),le=a.n(oe),ue=function(){var e=new FormData,t=document.querySelector("#photo");e.append("image",t.files[0]),d.b.sendPhoto(e).then((function(e){return console.log(e.data)}))},de=function(e){return Object(K.jsxs)("div",{className:le.a.settings,children:[Object(K.jsx)("p",{children:"Settings"}),Object(K.jsx)("input",{type:"file",id:"photo"}),Object(K.jsx)("button",{onClick:ue,children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})]})},je=a(77),be=a.n(je),pe=a(21),fe=a(3),he=a.n(fe),Oe=a(29),me=a(17),ve=a(37),xe=a.n(ve),ge=function(e){var t=e.isOwner,a=Object(pe.a)(e,["isOwner"]),n=Object(M.useState)(!1),s=Object(me.a)(n,2),c=s[0],i=s[1],r=Object(M.useState)(a.status),o=Object(me.a)(r,2),l=o[0],u=o[1];Object(M.useEffect)((function(){u(a.status)}),[a.status]);var d=function(){i(!0)},j=function(){i(!1),a.updateStatus(l)};return Object(K.jsx)("div",{className:xe.a.profileStatusHooks,children:t?Object(K.jsxs)("div",{onDoubleClick:d,className:xe.a.status,children:[!c&&Object(K.jsxs)("div",{className:xe.a.statusGrid,children:[Object(K.jsx)("div",{className:xe.a.statusArea,children:a.status||"----"}),Object(K.jsx)("div",{className:xe.a.profileStatusHooksBtn,children:Object(K.jsx)("button",{onClick:d,children:"\u0421\u043c\u0435\u043d\u0430 \u0441\u0442\u0430\u0442\u0443\u0441\u0430"})})]}),c&&Object(K.jsxs)("div",{className:xe.a.textArea,children:[Object(K.jsx)("textarea",{maxLength:"300",cols:"60",rows:"5",placeholder:"\u0412\u0430\u0448 \u0441\u0442\u0430\u0442\u0443\u0441",onChange:function(e){u(e.currentTarget.value)},autoFocus:!0,onFocus:function(e){return e.target.select()},onBlur:j,value:l}),Object(K.jsx)("div",{children:Object(K.jsx)("button",{onClick:j,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})})]})]}):Object(K.jsx)("div",{className:xe.a.statusArea,children:a.status||"----"})})},_e=function(e){var t=e.contactTitle,a=e.contactValue;return Object(K.jsxs)("div",{className:he.a.contacts,children:[t,":",Object(K.jsx)("div",{className:he.a.contactsValues,children:a?Object(K.jsx)("a",{href:a,children:a}):Object(K.jsx)("span",{className:he.a.noInfoContacts,children:"no information"})})]})},we=function(e){var t=e.profile,a=e.isOwner,n=e.goToEditMode;return Object(K.jsxs)("div",{className:he.a.profileLinks,children:[Object(K.jsx)("div",{className:he.a.nameField,children:Object.keys(t.contacts).map((function(e){return Object(K.jsx)(_e,{contactTitle:e,contactValue:t.contacts[e]},e)}))}),a&&Object(K.jsx)("div",{className:he.a.editBtnGrid,children:Object(K.jsx)("button",{className:he.a.editBtn,onClick:n,children:"Edit"})})]})},ke=function(e){var t=e.profile,a=e.isOwner,n=e.goToEditModeAbout;return Object(K.jsxs)("div",{className:he.a.divDesc,children:[Object(K.jsxs)("div",{className:he.a.divDescLabel,children:["\u041e \u0441\u0435\u0431\u0435:",Object(K.jsx)("span",{className:he.a.aboutValues,children:t.aboutMe})," "]}),Object(K.jsxs)("div",{className:he.a.divDescLabel,children:["\u041c\u043e\u0438 \u0441\u043a\u0438\u043b\u043b\u044b:",Object(K.jsxs)("span",{className:he.a.aboutValues,children:[" ",t.lookingForAJobDescription]})]}),Object(K.jsxs)("div",{className:he.a.divDescLabel,children:["\u0418\u0449\u0443 \u0440\u0430\u0431\u043e\u0442\u0443:",Object(K.jsxs)("span",{className:he.a.aboutValues,children:[" ",t.lookingForAJob?"\u0414\u0430":"\u041d\u0435\u0442"]})]}),Object(K.jsx)("div",{className:he.a.aboutSelfEditBtn,children:a&&Object(K.jsx)("button",{className:he.a.editBtn,onClick:n,children:"Edit"})})]})},Ne=a(4),Se=function(e){var t=e.initialValues,a=e.outEditMode,n=Object(pe.a)(e,["initialValues","outEditMode"]);return Object(K.jsx)("div",{className:he.a.formiklinks,children:Object(K.jsx)(Ne.d,{initialValues:t,onSubmit:function(e,t){var a=t.setStatus;n.saveContacts(e,a)},children:function(e){return Object(K.jsxs)(Ne.c,{onSubmit:e.handleSubmit,children:[Object(K.jsxs)("div",{className:he.a.nameFieldAbout,children:[Object(K.jsxs)("div",{children:[Object(K.jsx)("label",{htmlFor:"contacts.facebook",children:"facebook: "}),Object(K.jsx)(Ne.b,{name:"contacts.facebook",type:"text",placeholder:"facebook"}),Object(K.jsx)(Ne.a,{name:"contacts.facebook"})]}),Object(K.jsxs)("div",{children:[Object(K.jsx)("label",{htmlFor:"contacts.website",children:"website: "}),Object(K.jsx)(Ne.b,{name:"contacts.website",type:"text",placeholder:"website"}),Object(K.jsx)(Ne.a,{name:"contacts.website"})]}),Object(K.jsxs)("div",{children:[Object(K.jsx)("label",{htmlFor:"contacts.vk",children:"vk: "}),Object(K.jsx)(Ne.b,{name:"contacts.vk",type:"text",placeholder:"vk"}),Object(K.jsx)(Ne.a,{name:"contacts.vk"})]}),Object(K.jsxs)("div",{children:[Object(K.jsx)("label",{htmlFor:"contacts.twitter",children:"twitter: "}),Object(K.jsx)(Ne.b,{name:"contacts.twitter",type:"text",placeholder:"twitter"}),Object(K.jsx)(Ne.a,{name:"contacts.twitter"})]}),Object(K.jsxs)("div",{children:[Object(K.jsx)("label",{htmlFor:"contacts.instagram",children:"instagram: "}),Object(K.jsx)(Ne.b,{name:"contacts.instagram",type:"text",placeholder:"instagram"}),Object(K.jsx)(Ne.a,{name:"contacts.instagram"})]}),Object(K.jsxs)("div",{children:[Object(K.jsx)("label",{htmlFor:"contacts.youtube",children:"youtube: "}),Object(K.jsx)(Ne.b,{name:"contacts.youtube",type:"text",placeholder:"youtube"}),Object(K.jsx)(Ne.a,{name:"contacts.youtube"})]}),Object(K.jsxs)("div",{children:[Object(K.jsx)("label",{htmlFor:"contacts.github",children:"github: "}),Object(K.jsx)(Ne.b,{name:"contacts.github",type:"text",placeholder:"github"}),Object(K.jsx)(Ne.a,{name:"contacts.github"})]}),Object(K.jsxs)("div",{children:[Object(K.jsx)("label",{htmlFor:"contacts.mainLink",children:"mainLink: "}),Object(K.jsx)(Ne.b,{name:"contacts.mainLink",type:"text",placeholder:"mainLink"}),Object(K.jsx)(Ne.a,{name:"contacts.mainLink"})]})]}),Object(K.jsxs)("div",{className:he.a.contactsBtn,children:[Object(K.jsx)("button",{type:"submit",children:"Save"}),Object(K.jsx)("button",{onClick:a,children:"Cancel"})]}),Object(K.jsx)("span",{className:he.a.errors,children:e.status?e.status:null})]})}})})},ye=function(e){var t=e.initialValues,a=e.outEditMode,n=Object(pe.a)(e,["initialValues","outEditMode"]);return Object(K.jsx)("div",{className:he.a.formiklinksAbout,children:Object(K.jsx)(Ne.d,{initialValues:t,onSubmit:function(e,t){var a=t.setStatus;n.saveContacts(e,a)},children:function(e){return Object(K.jsxs)(Ne.c,{onSubmit:e.handleSubmit,children:[Object(K.jsxs)("div",{className:he.a.nameFieldAbout,children:[Object(K.jsxs)("div",{children:[Object(K.jsx)("label",{htmlFor:"aboutMe",children:"\u041e \u0441\u0435\u0431\u0435: "}),Object(K.jsx)(Ne.b,{name:"aboutMe",type:"text",placeholder:"\u0440\u0430\u0441\u0441\u043a\u0430\u0436\u0438\u0442\u0435 \u043e \u0441\u0435\u0431\u0435"}),Object(K.jsx)(Ne.a,{name:"aboutMe"})]}),Object(K.jsxs)("div",{children:[Object(K.jsx)("label",{htmlFor:"lookingForAJobDescription",children:"\u041c\u043e\u0438 \u0441\u043a\u0438\u043b\u043b\u044b: "}),Object(K.jsx)(Ne.b,{name:"lookingForAJobDescription",type:"text",placeholder:"skills"}),Object(K.jsx)(Ne.a,{name:"lookingForAJobDescription"})]}),Object(K.jsxs)("div",{children:[Object(K.jsx)("label",{htmlFor:"lookingForAJob",children:"\u0418\u0449\u0443 \u0440\u0430\u0431\u043e\u0442\u0443: "}),Object(K.jsx)(Ne.b,{name:"lookingForAJob",type:"checkbox"})]})]}),Object(K.jsx)("button",{type:"submit",children:"Save"}),Object(K.jsx)("button",{onClick:a,children:"Cancel"}),Object(K.jsx)("span",{className:he.a.errors,children:e.status?e.status:null})]})}})})},De=function(e){var t=e.outEditMode,a=e.saveContacts,n=e.initialValues;e.profile;return Object(K.jsx)("div",{children:Object(K.jsx)(Se,{initialValues:n,saveContacts:a,outEditMode:t})})},Ce=function(e){var t=e.profile,a=e.status,n=e.updateStatus,s=e.saveContacts,c=Object(pe.a)(e,["profile","status","updateStatus","saveContacts"]),i=Object(M.useState)(!1),r=Object(me.a)(i,2),o=r[0],l=r[1],u=Object(M.useState)(!1),d=Object(me.a)(u,2),j=d[0],b=d[1];return Object(K.jsxs)("div",{className:he.a.about,children:[Object(K.jsx)(ge,{isOwner:c.isOwner,status:a,updateStatus:n}),Object(K.jsx)("div",{className:he.a.linksOrForm,children:o?Object(K.jsx)(De,{profile:t,initialValues:t,saveContacts:s,outEditMode:function(){l(!1)}}):Object(K.jsx)(we,{goToEditMode:function(){l(!0)},isOwner:c.isOwner,profile:t})}),j?Object(K.jsx)(ye,{profile:t,initialValues:t,saveContacts:s,outEditMode:function(){b(!1)}}):Object(K.jsx)(ke,{goToEditModeAbout:function(){b(!0)},isOwner:c.isOwner,profile:t})]})},Pe=a.p+"static/media/settingBtn.72679fc5.svg",Ae=a(79),Ee=a.n(Ae),Fe=function(e){return Object(K.jsx)("div",{className:Ee.a.bgBtn,children:Object(K.jsx)("input",{disabled:e.isDownload,className:Ee.a.backImgBtn,type:"image",src:Pe,alt:"btn",onClick:e.onClick})})};var Ie=function(e){var t=e.profile,a=Object(pe.a)(e,["profile"]),n=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=B.a.useState(e),a=Object(me.a)(t,2),n=a[0],s=a[1],c=B.a.useCallback((function(){s((function(e){return!e}))}),[]);return[n,c]}(),s=Object(me.a)(n,2),c=s[0],i=s[1],r=function(){i()},o=t.photos.large||ee.a;return Object(K.jsxs)("div",{className:he.a.avaImg,children:[a.isDownload?Object(K.jsx)("div",{className:he.a.loading,children:Object(K.jsx)(Oe.a,{})}):Object(K.jsx)("img",{src:o,alt:"avatar"}),a.isOwner?Object(K.jsx)("div",{className:he.a.settingBtn,children:Object(K.jsx)(Fe,{isDownload:a.isDownload,onClick:r})}):null,!c&&null,c&&Object(K.jsxs)("div",{children:[Object(K.jsx)("div",{className:he.a.selectImg,children:" "}),Object(K.jsxs)("div",{className:he.a.avatarInp,children:[a.isOwner?Object(K.jsx)("input",{type:"file",onChange:function(e){e.target.files.length&&(a.savePhotoThunk(e.target.files[0]),r())}}):null,Object(K.jsx)("input",{type:"button",onClick:r,value:"\u043e\u0442\u043c\u0435\u043d\u0430"})]})]})]})},Le=function(e){var t=e.profile;return Object(K.jsxs)("div",{className:he.a.userDecsName,children:[t.fullName,Object(K.jsxs)("div",{className:he.a.divDescLabelName,children:["id:",t.userId]})]})},Te=function(e){var t=e.profile,a=e.updateStatus,n=e.status,s=e.saveContacts,c=Object(pe.a)(e,["profile","updateStatus","status","saveContacts"]);return t?Object(K.jsxs)("div",{className:he.a.avaAndDesc,children:[Object(K.jsx)(Le,{profile:t}),Object(K.jsx)(Ie,Object(u.a)({profile:t},c)),Object(K.jsx)(Ce,{saveContacts:s,isOwner:c.isOwner,updateStatus:a,status:n,profile:t})]}):Object(K.jsx)(Oe.a,{})},Me=a(38),Be=a.n(Me),Ue=a(80),He=a.n(Ue),ze=function(e){return Object(K.jsxs)("div",{className:He.a.item,children:[Object(K.jsx)("img",{src:"https://topmsg.ru/wp-content/uploads/anonymous.jpg",alt:"avatar picture"}),e.message,Object(K.jsxs)("div",{className:He.a.like,children:[Object(K.jsx)("span",{children:"like: "})," ",e.likescount]})]})},Ge=a(74),Ve=function(e){var t=function(e){e.label;var t=Object(pe.a)(e,["label"]),a=Object(Ne.e)(t),n=Object(me.a)(a,1)[0];return Object(K.jsx)(K.Fragment,{children:Object(K.jsx)("textarea",Object(u.a)(Object(u.a)({},n),t))})};return Object(K.jsx)("div",{className:Be.a.formikForm,children:Object(K.jsx)(Ne.d,{initialValues:{postText:""},validationSchema:Ge.a({postText:Ge.b().min(2,"\u0425\u043e\u0442\u044f-\u0431\u044b 2 \u0441\u0438\u043c\u0432\u043e\u043b\u0430").max(500,"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e 500")}),onSubmit:function(t){e.addPost(t.postText)},children:function(e){return Object(K.jsxs)(Ne.c,{onSubmit:e.handleSubmit,children:[Object(K.jsx)(t,{className:Be.a.textArea,name:"postText",type:"text-area",placeholder:" \u0427\u0442\u043e \u0443 \u0412\u0430\u0441 \u043d\u043e\u0432\u043e\u0433\u043e?",rows:"5",cols:"90"}),Object(K.jsx)("div",{className:Be.a.errors,children:Object(K.jsx)(Ne.a,{name:"postText"})}),Object(K.jsx)("div",{className:Be.a.button,children:Object(K.jsx)("button",{type:"submit",children:"\u0417\u0430\u043f\u043e\u0441\u0442\u0438\u0442\u044c"})})]})}})})},Re=function(e){var t=Object(l.a)(e.postsState).reverse().map((function(e){return Object(K.jsx)(ze,{message:e.message,likescount:e.likescount},e.id)}));return Object(K.jsx)("div",{className:Be.a.mypost,children:Object(K.jsxs)("div",{children:[Object(K.jsxs)("div",{className:Be.a.labelMyPost,children:[Object(K.jsx)("div",{children:Object(K.jsx)("h3",{children:"My posts"})}),Object(K.jsx)("div",{children:Object(K.jsx)(Ve,{addPost:e.addPost})})]}),Object(K.jsx)("div",{className:Be.a.divPost,children:t})]})})},qe=Object(Y.b)((function(e){return{postsState:e.profilePage.postsState,newPostText:e.profilePage.newPostText}}),(function(e){return{addPost:function(t){e(function(e){return{type:j,postText:e}}(t))}}}))(Re),Je=function(e){var t=Object.assign({},e);return Object(K.jsx)("div",{className:be.a.allProfile,children:Object(K.jsx)("div",{className:be.a.afterWall,children:t.isDownload?Object(K.jsx)(Oe.a,{}):Object(K.jsxs)("div",{children:[Object(K.jsx)(Te,Object(u.a)(Object(u.a)({saveContacts:t.saveContacts},t),{},{isOwner:t.isOwner,profile:t.profile,status:t.status,updateStatus:t.updateStatus})),Object(K.jsx)(qe,{})]})})})},We=function(e){Object(z.a)(a,e);var t=Object(G.a)(a);function a(){return Object(U.a)(this,a),t.apply(this,arguments)}return Object(H.a)(a,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authorizedUserId)?(this.props.getProfileThunk(e),this.props.getUsersStatus(e)):this.props.history.push("/login")}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,a){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return Object(K.jsx)(Je,Object(u.a)(Object(u.a)({},this.props),{},{isOwner:!this.props.match.params.userId}))}}]),a}(B.a.Component),Ke=Object(s.c)(Object(Y.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,aboutMe:e.profilePage.aboutMe,authorizedUserId:e.auth.id,isAuth:e.auth.isAuth,isDownload:e.profilePage.isDownload}}),{getProfileThunk:g,getUsersStatus:function(e){return function(){var t=Object(o.a)(r.a.mark((function t(a){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.b.getStatus(e);case 2:n=t.sent,a(v(n.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateStatus:function(e){return function(){var t=Object(o.a)(r.a.mark((function t(a){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d.b.updateStatus(e);case 3:0===t.sent.data.resultCode&&a(v(e)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),alert(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},savePhotoThunk:function(e){return function(){var t=Object(o.a)(r.a.mark((function t(a,n){var s;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=n().auth.id,t.next=3,d.b.setMainPhotoApi(e);case 3:0===t.sent.data.resultCode&&a(g(s));case 5:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()},saveContacts:function(e,t){return function(){var a=Object(o.a)(r.a.mark((function a(n,s){var c,i;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c=s().auth.id,a.next=3,d.b.saveContacts(e);case 3:0===(i=a.sent).data.resultCode?n(g(c)):t(i.data.messages);case 5:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()}}),V.g)(We),Xe=B.a.lazy((function(){return a.e(5).then(a.bind(null,260))})),Ye=B.a.lazy((function(){return a.e(4).then(a.bind(null,259))})),Ze=B.a.lazy((function(){return a.e(3).then(a.bind(null,258))})),Qe=function(e){Object(z.a)(a,e);var t=Object(G.a)(a);function a(){var e;Object(U.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).catchAllUnhandleErrors=function(){alert("Some Error was occurred")},e}return Object(H.a)(a,[{key:"componentDidMount",value:function(){this.props.initializeAppThunk(),window.addEventListener("unhandledrejection",this.catchAllUnhandleErrors)}},{key:"render",value:function(){return this.props.initialized?Object(K.jsxs)("div",{children:[Object(K.jsx)(ne,{}),Object(K.jsxs)("div",{className:"app-wrapper",children:[Object(K.jsx)(Z,{}),Object(K.jsx)("div",{className:"app-wrapper-content",children:Object(K.jsx)(M.Suspense,{fallback:Object(K.jsx)(Oe.a,{}),children:Object(K.jsxs)(V.d,{children:[Object(K.jsx)(V.a,{exact:!0,from:"/",to:"/profile"}),Object(K.jsx)(V.a,{exact:!0,from:"/profile/".concat(this.props.authorizedUserId),to:"/profile"}),Object(K.jsx)(V.b,{path:"/dialogs",component:function(){return Object(K.jsx)(Ye,{})}}),Object(K.jsx)(V.b,{path:"/profile/:userId?",component:function(){return Object(K.jsx)(Ke,{})}}),Object(K.jsx)(V.b,{path:"/users",component:function(){return Object(K.jsx)(Ze,{})}}),Object(K.jsx)(V.b,{path:"/music",component:ie}),Object(K.jsx)(V.b,{path:"/news",component:re}),Object(K.jsx)(V.b,{path:"/settings",component:de}),Object(K.jsx)(V.b,{path:"/login",component:Xe}),Object(K.jsx)(V.b,{path:"*",render:function(){return Object(K.jsx)("div",{className:"error",children:"ERROR 404 PAGE NOT FOUND"})}})]})})})]})]}):Object(K.jsx)(Oe.a,{})}}]),a}(B.a.Component),$e=Object(s.c)(V.g,Object(Y.b)((function(e){return{initialized:e.app.initialized,authorizedUserId:e.auth.id}}),{initializeAppThunk:function(){return function(e){var t=e(Object(S.a)());Promise.all([t]).then((function(){e({type:D})}))}}}))(Qe);T.a.render(Object(K.jsx)(B.a.StrictMode,{children:Object(K.jsx)(J.a,{children:Object(K.jsx)(Y.a,{store:I,children:Object(K.jsx)($e,{})})})}),document.getElementById("root")),n()},29:function(e,t,a){"use strict";var n=a(78),s=a.n(n),c=(a(1),a(0));t.a=function(){return Object(c.jsx)("div",{className:s.a.preloader,children:Object(c.jsx)("div",{className:s.a.spinner,children:" "})})}},3:function(e,t,a){e.exports={avaAndDesc:"Disc_avaAndDesc__3ks85",avaImg:"Disc_avaImg__25ZQh",loading:"Disc_loading__P7O4-",about:"Disc_about__3Mi41",divDesc:"Disc_divDesc__1q29N",divDescLabel:"Disc_divDescLabel__3px7_",userDecsName:"Disc_userDecsName__OiPgz",divDescLabelName:"Disc_divDescLabelName__QyC_G",contacts:"Disc_contacts__2G11g",links:"Disc_links__AZEPL",formiklinks:"Disc_formiklinks__2GvVS",formiklinksAbout:"Disc_formiklinksAbout__1-Aza",nameFieldAbout:"Disc_nameFieldAbout__2XYdU",selectImg:"Disc_selectImg__3IYME",avatarInp:"Disc_avatarInp__3C2RY",settingBtn:"Disc_settingBtn__3KPT9",linksOrForm:"Disc_linksOrForm__3CNn9",editBtn:"Disc_editBtn__3G59D",noInfoContacts:"Disc_noInfoContacts__39F26",nameField:"Disc_nameField__2gI53",contactsValues:"Disc_contactsValues__1ztAc",aboutValues:"Disc_aboutValues__1w7PF",errors:"Disc_errors__2LK5K",contactsBtn:"Disc_contactsBtn__1kLL3",editBtnGrid:"Disc_editBtnGrid__2QKEZ",profileLinks:"Disc_profileLinks__2dl0N",aboutSelfEditBtn:"Disc_aboutSelfEditBtn__3VxPl"}},36:function(e,t,a){e.exports={wr1:"HeaderHtml_wr1__2vf40",loginBlock:"HeaderHtml_loginBlock__3xEN0",avaLogin:"HeaderHtml_avaLogin__15YA2",userLogin:"HeaderHtml_userLogin__DRrF8",outBtn:"HeaderHtml_outBtn__zMsfI",headLogo:"HeaderHtml_headLogo__Fsybj"}},37:function(e,t,a){e.exports={status:"ProfileStatus_status__1KsJa",statusGrid:"ProfileStatus_statusGrid__2d9BL",textArea:"ProfileStatus_textArea___qW5N",statusArea:"ProfileStatus_statusArea__1-8Iu",profileStatusHooksBtn:"ProfileStatus_profileStatusHooksBtn__2FweU"}},38:function(e,t,a){e.exports={mypost:"MyPosts_mypost__37-rj",divPost:"MyPosts_divPost__3iMqs",labelMyPost:"MyPosts_labelMyPost__jyeCq",errors:"MyPosts_errors__hxFIs",formikForm:"MyPosts_formikForm__1TExR",button:"MyPosts_button__Ctg2l",textArea:"MyPosts_textArea__1JP9n"}},41:function(e,t,a){"use strict";a.d(t,"a",(function(){return j})),a.d(t,"c",(function(){return b})),a.d(t,"d",(function(){return p}));var n=a(9),s=a.n(n),c=a(23),i=a(2),r=a(14),o="network/auth/AUTH_USER_DATA",l="network/profile/PROFILE_INFO",u={id:null,email:null,login:null,isAuth:!1,profile:null},d=function(e,t,a,n,s){return{type:o,payload:{id:e,email:t,login:a,isAuth:n,profile:s}}},j=function(){return function(){var e=Object(c.a)(s.a.mark((function e(t){var a,n,c,i,o,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.a.me();case 2:if(0!==(a=e.sent).data.resultCode){e.next=10;break}return n=a.data.data,c=n.id,i=n.email,o=n.login,t(d(c,i,o,!0)),e.next=8,r.b.getProfile(c);case 8:u=e.sent,t((s=u.data,{type:l,profile:s}));case 10:case"end":return e.stop()}var s}),e)})));return function(t){return e.apply(this,arguments)}}()},b=function(e,t,a,n,i,o,l){return function(){var i=Object(c.a)(s.a.mark((function c(i){var u,d;return s.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,r.a.login(e,t,a,l);case 2:if(0===(u=s.sent).data.resultCode&&i(j()),10!==u.data.resultCode){s.next=12;break}return o(u.data.messages),s.next=8,r.a.getCaptcha();case 8:d=s.sent,n(d.data.url),s.next=13;break;case 12:o(u.data.messages);case 13:case"end":return s.stop()}}),c)})));return function(e){return i.apply(this,arguments)}}()},p=function(){return function(){var e=Object(c.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.a.logout();case 2:0===e.sent.data.resultCode&&t(d(null,null,null,!1,null));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o:return Object(i.a)(Object(i.a)({},e),t.payload);case l:return Object(i.a)(Object(i.a)({},e),{},{profile:t.profile});default:return e}}},48:function(e,t,a){e.exports={dialogs:"Dialogs_dialogs__3uS9c",usersDialogs:"Dialogs_usersDialogs__3WFca",user:"Dialogs_user__1zwAL",activeLink:"Dialogs_activeLink__2mDNt",oneMessage:"Dialogs_oneMessage__3vJTs",name:"Dialogs_name__3NwXD",messages:"Dialogs_messages__pVrRU",other:"Dialogs_other__1oZ_0",answer:"Dialogs_answer__2BVBv",inputMessage:"Dialogs_inputMessage__3QDcu",errors:"Dialogs_errors__10lKJ",button:"Dialogs_button__1p1Va"}},49:function(e,t,a){"use strict";t.a=a.p+"static/media/no-user-26.d821428d.jpg"},77:function(e,t,a){e.exports={afterWall:"Profile_afterWall__1hz4r"}},78:function(e,t,a){e.exports={preloader:"Preloader_preloader__1k8b5",spinner:"Preloader_spinner__XNCHn",spin:"Preloader_spin__3FQC6"}},79:function(e,t,a){e.exports={backImgBtn:"SettingBtn_backImgBtn__2CERy",bgBtn:"SettingBtn_bgBtn__2ETN8"}},80:function(e,t,a){e.exports={item:"Post_item___KzIi",like:"Post_like__28MpH"}},82:function(e,t,a){"use strict";a.d(t,"b",(function(){return r}));var n=a(15),s=a(2),c="network/messages/SEND-MESSAGE",i={dialogsState:[{id:1,name:"Dimich",avatar:"https://i.ytimg.com/vi/iJ4UGNGzJzY/hqdefault.jpg?sqp=-oaymwEXCOADEI4CSFryq4qpAwkIARUAAIhCGAE=&rs=AOn4CLBnmgSojZdsUkxXfQLs7wK5dW0irw"},{id:2,name:"Maria",avatar:"https://www.seas.harvard.edu/sites/default/files/styles/embedded_image_large/public/images/news/zlatkova_maria_web_square.jpg?itok=Z2IqHSei"},{id:3,name:"Hannah",avatar:"https://cs50.harvard.edu/college/2019/fall/staff/media/Emma-Humphrey.png"},{id:4,name:"Rob",avatar:"https://cra.org/wp-content/uploads/2018/05/Robert-Bowden.jpg"},{id:5,name:"David",avatar:"https://upload.wikimedia.org/wikipedia/commons/thumb/3/38/David_J._Malan.png/220px-David_J._Malan.png"},{id:6,name:"Victor",avatar:"https://i.ytimg.com/an/TW0FUhT0m-Bqg2trTbSs0g/featured_channel.jpg?v=5fc22bf3"}],messageState:[{id:1,message:"Hello"},{id:2,message:"Hello World!"},{id:3,message:"All love triangle"},{id:4,message:"Nice 2 mu"},{id:5,message:"Yo"},{id:6,message:"Hello"}],answerState:[{id:1,message:"Hello, Dimich"},{id:2,message:"I can write it on JS!"}]},r=function(e){return{type:c,messageText:e}};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c:return Object(s.a)(Object(s.a)({},e),{},{answerState:[].concat(Object(n.a)(e.answerState),[{id:3,message:t.messageText}])});default:return e}}},91:function(e,t,a){"use strict";a(1);var n=a(48),s=a.n(n),c=a(18),i=a(0);t.a=function(e){var t="/dialogs/"+e.id;return Object(i.jsx)("div",{className:s.a.user,children:Object(i.jsxs)(c.b,{activeClassName:s.a.activeLink,to:t,children:[Object(i.jsx)("div",{className:s.a.avatar,children:Object(i.jsx)("img",{src:e.avatar,alt:"avatar"})}),Object(i.jsx)("div",{className:s.a.name,children:e.name})]})})}}},[[252,1,2]]]);
//# sourceMappingURL=main.714a9d1a.chunk.js.map