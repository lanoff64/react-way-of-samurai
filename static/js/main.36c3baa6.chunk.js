(this["webpackJsonpway-of-samurai"]=this["webpackJsonpway-of-samurai"]||[]).push([[0],{114:function(e,t,a){"use strict";a.d(t,"d",(function(){return g})),a.d(t,"e",(function(){return _})),a.d(t,"c",(function(){return w})),a.d(t,"b",(function(){return N})),a.d(t,"f",(function(){return y}));var n=a(8),s=a.n(n),r=a(22),i=a(14),c=a(2),o=a(13),u=function(e,t,a,n){return e.map((function(e){return e[a]===t?Object(c.a)(Object(c.a)({},e),n):e}))},l="network/users/FOLLOW",d="network/users/UNFOLLOW",j="network/users/SET_USERS",b="network/users/SET_CURRENT_PAGE",p="network/users/SET_TOTAL_USERS_COUNT",f="network/users/TOGGLE_IS_FETCH",h="network/users/TOGGLE_IS_FOLLOWING_PROGRESS",O={users:[],pagesSize:100,totalUsersCount:0,currentPage:1,isFetch:!1,followingInProgress:[]},m=function(e){return{type:l,userId:e}},v=function(e){return{type:d,userId:e}},g=function(e){return{type:b,currentPage:e}},x=function(e){return{type:f,isFetch:e}},_=function(e,t){return{type:h,isFetching:e,userId:t}},w=function(e,t){return function(){var a=Object(r.a)(s.a.mark((function a(n){var r;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n(x(!0)),n(g(e)),a.next=4,o.c.getUsers(e,t);case 4:r=a.sent,n(x(!1)),n((i=r.items,{type:j,users:i})),n((s=r.totalCount,{type:p,totalUsersCount:s}));case 8:case"end":return a.stop()}var s,i}),a)})));return function(e){return a.apply(this,arguments)}}()},k=function(){var e=Object(r.a)(s.a.mark((function e(t,a,n,r){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(_(!0,a)),e.next=3,n(a);case 3:0===e.sent.data.resultCode&&t(r(a)),t(_(!1,a));case 6:case"end":return e.stop()}}),e)})));return function(t,a,n,s){return e.apply(this,arguments)}}(),N=function(e){return function(t){k(t,e,o.c.followUser.bind(o.c),m)}},y=function(e){return function(t){k(t,e,o.c.unFollowUser.bind(o.c),v),t(_(!0,e))}};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:return Object(c.a)(Object(c.a)({},e),{},{users:u(e.users,t.userId,"id",{followed:!0})});case d:return Object(c.a)(Object(c.a)({},e),{},{users:u(e.users,t.userId,"id",{followed:!1})});case j:return Object(c.a)(Object(c.a)({},e),{},{users:t.users});case b:return Object(c.a)(Object(c.a)({},e),{},{currentPage:t.currentPage});case p:return Object(c.a)(Object(c.a)({},e),{},{totalUsersCount:t.totalUsersCount});case f:return Object(c.a)(Object(c.a)({},e),{},{isFetch:t.isFetch});case h:return Object(c.a)(Object(c.a)({},e),{},{followingInProgress:t.isFetching?[].concat(Object(i.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!==t.userId}))});default:return e}}},117:function(e,t,a){e.exports={music:"Music_music__jAZj9"}},118:function(e,t,a){e.exports={settings:"Settings_settings__vgBiU"}},124:function(e,t,a){},13:function(e,t,a){"use strict";a.d(t,"c",(function(){return r})),a.d(t,"b",(function(){return i})),a.d(t,"a",(function(){return c}));var n=a(115),s=n.create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":"7143f507-a8a7-4262-988c-7695e2a8a1e3"}}),r={getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return s.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},getProfile:function(e){return console.warn("Obsolete method. Please use profileAPI.getProfile object."),i.getProfile(e)},followUser:function(e){return s.post("follow/".concat(e))},unFollowUser:function(e){return s.delete("follow/".concat(e))}},i={sendPhoto:function(e){return s.post("profile/photo",e)},getProfile:function(e){return s.get("profile/".concat(e))},getStatus:function(e){return s.get("profile/status/".concat(e))},updateStatus:function(e){return s.put("profile/status/",{status:e})},setMainPhotoApi:function(e){var t=new FormData;return t.append("image",e),s.put("profile/photo/",t,{headers:{"Content-Type":"multipart/form-data"}})},saveContacts:function(e){return s.put("profile",e)}},c={me:function(){return s.get("auth/me")},login:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3?arguments[3]:void 0;return s.post("/auth/login",{email:e,password:t,rememberMe:a,captcha:n})},logout:function(){return s.delete("/auth/login")},getCaptcha:function(){return s.get("security/get-captcha-url")}}},148:function(e,t,a){},15:function(e,t,a){e.exports={nav:"NavBar_nav__1KW5X",item:"NavBar_item__3EQDI",activeLink:"NavBar_activeLink__1qeZa",settings:"NavBar_settings___SIuJ",friends:"NavBar_friends__3yHn4",navMargin:"NavBar_navMargin__1w9Oc",users:"NavBar_users__362qv"}},252:function(e,t,a){"use strict";a.r(t);var n=function(e){e&&e instanceof Function&&a.e(6).then(a.bind(null,257)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,r=t.getLCP,i=t.getTTFB;a(e),n(e),s(e),r(e),i(e)}))},s=(a(124),a(30)),r=a(82),i=a(8),c=a.n(i),o=a(22),u=a(14),l=a(2),d=a(13),j="network/profile/ADD-POST",b="network/profile/SET_USERS_PROFILE",p="network/profile/SET_USERS_STATUS",f="network/profile/SET_CONTACTS",h="network/profile/SET_MAIN_PHOTO",O="network/profile/TOGGLE_IS_DOWNLOAD",m={postsState:[{id:1,message:"How are you ?",likescount:3},{id:2,message:"We will rock U",likescount:10},{id:3,message:"Check my Git",likescount:0},{id:4,message:"Check my Greets",likescount:0}],profile:null,status:"",aboutMe:null,isDownload:!1},v=function(e){return{type:p,status:e}},g=function(e){return{type:h,file:e}},x=function(e){return{type:O,isDownload:e}},_=function(e){return function(){var t=Object(o.a)(c.a.mark((function t(a){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(x(!0)),t.next=3,d.b.getProfile(e);case 3:n=t.sent,a(x(!1)),a((s=n.data,{type:b,profile:s}));case 6:case"end":return t.stop()}var s}),t)})));return function(e){return t.apply(this,arguments)}}()},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return Object(l.a)(Object(l.a)({},e),{},{postsState:[].concat(Object(u.a)(e.postsState),[{id:5,message:t.postText,likescount:0}])});case b:return Object(l.a)(Object(l.a)({},e),{},{profile:t.profile});case p:return Object(l.a)(Object(l.a)({},e),{},{status:t.status});case f:return Object(l.a)(Object(l.a)({},e),{},{profile:Object(l.a)(Object(l.a)({},e.profile),{},{profile:t.profile})});case h:return Object(l.a)(Object(l.a)({},e),{},{profile:Object(l.a)(Object(l.a)({},e.profile),{},{photos:t.file})});case O:return Object(l.a)(Object(l.a)({},e),{},{isDownload:t.isDownload});default:return e}},k=[{id:1,name:"Dimich",avatar:"https://i.ytimg.com/vi/iJ4UGNGzJzY/hqdefault.jpg?sqp=-oaymwEXCOADEI4CSFryq4qpAwkIARUAAIhCGAE=&rs=AOn4CLBnmgSojZdsUkxXfQLs7wK5dW0irw"},{id:2,name:"Maria",avatar:"https://www.seas.harvard.edu/sites/default/files/styles/embedded_image_large/public/images/news/zlatkova_maria_web_square.jpg?itok=Z2IqHSei"},{id:21,name:"Victor",avatar:"https://i.ytimg.com/an/TW0FUhT0m-Bqg2trTbSs0g/featured_channel.jpg?v=5fc22bf3"}],N=function(){return k},y=a(114),S=a(40),D=a(116),C="network/initial/INITIALISED_SUCCESS",P={initialized:!1},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:return Object(l.a)(Object(l.a)({},e),{},{initialized:!0});default:return e}},T=Object(s.b)({profilePage:w,dialogsPage:r.a,navBar:N,usersPage:y.a,auth:S.b,app:I}),L=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||s.c,E=Object(s.d)(T,L(Object(s.a)(D.a)));window.store=E;var A=E,M=a(57),B=a.n(M),F=a(1),U=a.n(F),H=a(3),z=a(4),G=a(10),R=a(11),q=(a(148),a(9)),W=a(15),J=a.n(W),V=a(18),X=a(91),Y=a(0),Z=function(e){var t=e.state.map((function(e){return Object(Y.jsx)(X.a,{name:e.name,id:e.id,avatar:e.avatar},e.id)}));return Object(Y.jsxs)("nav",{className:J.a.nav,children:[Object(Y.jsxs)("div",{className:J.a.navMargin,children:[Object(Y.jsx)("div",{className:J.a.item,children:Object(Y.jsx)(V.b,{to:"/profile",activeClassName:J.a.activeLink,children:"Profile"})}),Object(Y.jsx)("div",{className:J.a.item,children:Object(Y.jsx)(V.b,{to:"/dialogs",activeClassName:J.a.activeLink,children:"Messages"})}),Object(Y.jsx)("div",{className:J.a.item,children:Object(Y.jsx)(V.b,{to:"/news",activeClassName:J.a.activeLink,children:"News"})}),Object(Y.jsx)("div",{className:J.a.item,children:Object(Y.jsx)(V.b,{to:"/music",activeClassName:J.a.activeLink,children:"Music"})}),Object(Y.jsx)("div",{className:"".concat(J.a.item," ").concat(J.a.settings),children:Object(Y.jsx)(V.b,{to:"/settings",activeClassName:J.a.activeLink,children:"Settings"})}),Object(Y.jsx)("div",{className:J.a.users,children:Object(Y.jsx)(V.b,{to:"/users",activeClassName:J.a.activeLink,children:"Users"})}),Object(Y.jsx)("div",{className:"".concat(J.a.item," ").concat(J.a.friends),children:"FRIENDS"})]}),t]})},K=a(25),Q=Object(K.b)((function(e){return{state:e.navBar}}),(function(){return{}}))(Z),$=a(36),ee=a.n($),te=a(48),ae=function(e){return Object(Y.jsx)("div",{children:Object(Y.jsxs)("div",{className:ee.a.wr1,children:[Object(Y.jsx)("div",{className:ee.a.headLogo,children:Object(Y.jsx)("img",{src:"https://cdn.iconscout.com/icon/premium/png-256-thumb/social-connection-7-771032.png",alt:"logo"})}),Object(Y.jsx)("div",{children:e.profile?Object(Y.jsxs)("div",{className:ee.a.loginBlock,children:[Object(Y.jsx)("div",{className:ee.a.userLogin,children:e.login}),Object(Y.jsx)("div",{className:ee.a.avaLogin,children:Object(Y.jsx)("img",{src:e.profile.photos.small?e.profile.photos.small:te.a,alt:"avatar"})}),Object(Y.jsx)("div",{className:ee.a.outBtn,children:Object(Y.jsx)("button",{onClick:e.logoutThunk,children:"\u0412\u044b\u0439\u0442\u0438"})})]}):Object(Y.jsxs)("div",{className:ee.a.loginBlock,children:[Object(Y.jsx)(V.b,{to:"/login",children:"Login"}),Object(Y.jsx)("img",{src:te.a,alt:"avatar"})]})})]})})},ne=function(e){Object(G.a)(a,e);var t=Object(R.a)(a);function a(){return Object(H.a)(this,a),t.apply(this,arguments)}return Object(z.a)(a,[{key:"render",value:function(){return Object(Y.jsx)(ae,Object(l.a)({},this.props))}}]),a}(U.a.Component),se=Object(K.b)((function(e){return{login:e.auth.login,isAuth:e.auth.isAuth,id:e.auth.id,email:e.auth.email,profile:e.auth.profile}}),{logoutThunk:S.d})(ne),re=a(117),ie=a.n(re),ce=function(e){return Object(Y.jsx)("div",{className:ie.a.music,children:"Music"})},oe=function(e){var t=Object(Y.jsx)("iframe",{title:"news",width:"800",height:"350",className:"news",src:"http://feeds.feedburner.com/lenta/MpsS"}),a=Object(Y.jsx)("iframe",{title:"news",width:"800",height:"350",className:"news",src:"http://feeds.feedburner.com/zakon/vWos"}),n=Object(Y.jsx)("iframe",{title:"news",width:"800",height:"350",className:"news",src:"http://feeds.feedburner.com/mail/YeGC"}),s=Object(Y.jsx)("iframe",{title:"news",width:"800",height:"350",className:"news",src:"http://feeds.feedburner.com/com/cMiY"}),r=Object(Y.jsx)("iframe",{title:"news",width:"800",height:"350",className:"news",src:"http://feeds.feedburner.com/kzt"});return Object(Y.jsxs)("div",{children:[Object(Y.jsx)("div",{children:t}),Object(Y.jsx)("div",{children:a}),Object(Y.jsx)("div",{children:n}),Object(Y.jsx)("div",{children:s}),Object(Y.jsx)("div",{children:r})]})},ue=a(118),le=a.n(ue),de=function(){var e=new FormData,t=document.querySelector("#photo");e.append("image",t.files[0]),d.b.sendPhoto(e).then((function(e){return console.log(e.data)}))},je=function(e){return Object(Y.jsxs)("div",{className:le.a.settings,children:[Object(Y.jsx)("p",{children:"Settings"}),Object(Y.jsx)("input",{type:"file",id:"photo"}),Object(Y.jsx)("button",{onClick:de,children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})]})},be=a(77),pe=a.n(be),fe=a(26),he=a(6),Oe=a.n(he),me=a(29),ve=a(16),ge=a(50),xe=a.n(ge),_e=function(e){var t=e.isOwner,a=Object(fe.a)(e,["isOwner"]),n=Object(F.useState)(!1),s=Object(ve.a)(n,2),r=s[0],i=s[1],c=Object(F.useState)(a.status),o=Object(ve.a)(c,2),u=o[0],l=o[1];Object(F.useEffect)((function(){l(a.status)}),[a.status]);return Object(Y.jsx)("div",{children:t?Object(Y.jsxs)("div",{onDoubleClick:function(){i(!0)},className:xe.a.status,children:[!r&&Object(Y.jsx)("div",{className:xe.a.statusArea,children:a.status||"----"}),r&&Object(Y.jsx)("div",{className:xe.a.textArea,children:Object(Y.jsx)("textarea",{maxLength:"300",cols:"60",rows:"5",placeholder:"\u0412\u0430\u0448 \u0441\u0442\u0430\u0442\u0443\u0441",onChange:function(e){l(e.currentTarget.value)},autoFocus:!0,onFocus:function(e){return e.target.select()},onBlur:function(){i(!1),a.updateStatus(u)},value:u})})]}):Object(Y.jsx)("div",{className:xe.a.statusArea,children:a.status||"----"})})},we=function(e){var t=e.contactTitle,a=e.contactValue;return Object(Y.jsxs)("div",{className:Oe.a.contacts,children:[Object(Y.jsx)("b",{children:t}),":",a?Object(Y.jsx)("a",{href:a,children:a}):Object(Y.jsx)("span",{className:Oe.a.noInfoContacts,children:"no information"})]})},ke=function(e){var t=e.profile,a=e.isOwner,n=e.goToEditMode;return Object(Y.jsxs)("div",{children:[Object(Y.jsx)("div",{className:Oe.a.links,children:Object.keys(t.contacts).map((function(e){return Object(Y.jsx)(we,{contactTitle:e,contactValue:t.contacts[e]},e)}))}),Object(Y.jsx)("div",{children:a&&Object(Y.jsx)("button",{className:Oe.a.editBtn,onClick:n,children:"Edit"})})]})},Ne=function(e){var t=e.profile;return Object(Y.jsxs)("div",{className:Oe.a.divDesc,children:[Object(Y.jsxs)("div",{className:Oe.a.divDescLabel,children:["\u041e \u0441\u0435\u0431\u0435:",t.aboutMe]}),Object(Y.jsxs)("div",{className:Oe.a.divDescLabel,children:["\u0418\u0449\u0435\u0442 \u0440\u0430\u0431\u043e\u0442\u0443:",t.lookingForAJobDescription]}),Object(Y.jsxs)("div",{className:Oe.a.divDescLabel,children:["Phone:",t.lookingForAJob?"88005553535":"\u0441\u043a\u0440\u044b\u0442\u043e"]})]})},ye=a(17),Se=function(e){var t=e.initialValues,a=e.outEditMode,n=Object(fe.a)(e,["initialValues","outEditMode"]);return Object(Y.jsx)("div",{children:Object(Y.jsx)(ye.d,{initialValues:t,onSubmit:function(e){n.saveContacts(e),a()},children:function(e){return Object(Y.jsxs)(ye.c,{onSubmit:e.handleSubmit,children:[Object(Y.jsxs)("div",{className:Oe.a.links,children:[Object(Y.jsx)("div",{children:Object(Y.jsx)(ye.b,{name:"contacts.facebook",type:"text",placeholder:"facebook"})}),Object(Y.jsx)("div",{children:Object(Y.jsx)(ye.b,{name:"contacts.website",type:"text",placeholder:"website"})}),Object(Y.jsx)("div",{children:Object(Y.jsx)(ye.b,{name:"contacts.vk",type:"text",placeholder:"vk"})}),Object(Y.jsx)("div",{children:Object(Y.jsx)(ye.b,{name:"contacts.twitter",type:"text",placeholder:"twitter"})}),Object(Y.jsx)("div",{children:Object(Y.jsx)(ye.b,{name:"contacts.instagram",type:"text",placeholder:"instagram"})}),Object(Y.jsx)("div",{children:Object(Y.jsx)(ye.b,{name:"contacts.youtube",type:"text",placeholder:"youtube"})}),Object(Y.jsx)("div",{children:Object(Y.jsx)(ye.b,{name:"contacts.github",type:"text",placeholder:"github"})}),Object(Y.jsx)("div",{children:Object(Y.jsx)(ye.b,{name:"contacts.mainLink",type:"text",placeholder:"mainLink"})})]}),Object(Y.jsx)("div",{children:Object(Y.jsx)("button",{type:"submit",children:"Save"})})]})}})})},De=function(e){var t=e.outEditMode,a=e.saveContacts,n=e.initialValues;return Object(Y.jsx)("div",{children:Object(Y.jsx)(Se,{initialValues:n,saveContacts:a,outEditMode:t})})},Ce=function(e){var t=e.profile,a=e.status,n=e.updateStatus,s=e.saveContacts,r=Object(fe.a)(e,["profile","status","updateStatus","saveContacts"]),i=Object(F.useState)(!1),c=Object(ve.a)(i,2),o=c[0],u=c[1];return Object(Y.jsxs)("div",{className:Oe.a.about,children:[Object(Y.jsx)(_e,{isOwner:r.isOwner,status:a,updateStatus:n}),Object(Y.jsxs)("div",{className:Oe.a.linksOrForm,children:[Object(Y.jsx)("span",{children:"Links:"}),o?Object(Y.jsx)(De,{initialValues:t,saveContacts:s,outEditMode:function(){u(!1)}}):Object(Y.jsx)(ke,{goToEditMode:function(){u(!0)},isOwner:r.isOwner,profile:t})]}),Object(Y.jsx)(Ne,{profile:t})]})},Pe=a.p+"static/media/settingBtn.72679fc5.svg",Ie=a(79),Te=a.n(Ie),Le=function(e){return Object(Y.jsx)("div",{className:Te.a.bgBtn,children:Object(Y.jsx)("input",{disabled:e.isDownload,className:Te.a.backImgBtn,type:"image",src:Pe,alt:"btn",onClick:e.onClick})})};var Ee=function(e){var t=e.profile,a=Object(fe.a)(e,["profile"]),n=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=U.a.useState(e),a=Object(ve.a)(t,2),n=a[0],s=a[1],r=U.a.useCallback((function(){s((function(e){return!e}))}),[]);return[n,r]}(),s=Object(ve.a)(n,2),r=s[0],i=s[1],c=function(){i()},o=t.photos.large||te.a;return Object(Y.jsxs)("div",{className:Oe.a.avaImg,children:[a.isDownload?Object(Y.jsx)("div",{className:Oe.a.loading,children:Object(Y.jsx)(me.a,{})}):Object(Y.jsx)("img",{src:o,alt:"avatar"}),a.isOwner?Object(Y.jsx)("div",{className:Oe.a.settingBtn,children:Object(Y.jsx)(Le,{isDownload:a.isDownload,onClick:c})}):null,!r&&null,r&&Object(Y.jsxs)("div",{children:[Object(Y.jsx)("div",{className:Oe.a.selectImg,children:" "}),Object(Y.jsxs)("div",{className:Oe.a.avatarInp,children:[a.isOwner?Object(Y.jsx)("input",{type:"file",onChange:function(e){e.target.files.length&&(a.savePhotoThunk(e.target.files[0]),c())}}):null,Object(Y.jsx)("input",{type:"button",onClick:c,value:"\u043e\u0442\u043c\u0435\u043d\u0430"})]})]})]})},Ae=function(e){var t=e.profile;return Object(Y.jsxs)("div",{className:Oe.a.userDecsName,children:[t.fullName,Object(Y.jsxs)("div",{className:Oe.a.divDescLabelName,children:["id:",t.userId]})]})},Me=function(e){var t=e.profile,a=e.updateStatus,n=e.status,s=e.saveContacts,r=Object(fe.a)(e,["profile","updateStatus","status","saveContacts"]);return t?Object(Y.jsxs)("div",{className:Oe.a.avaAndDesc,children:[Object(Y.jsx)(Ae,{profile:t}),Object(Y.jsx)(Ee,Object(l.a)({profile:t},r)),Object(Y.jsx)(Ce,{saveContacts:s,isOwner:r.isOwner,updateStatus:a,status:n,profile:t})]}):Object(Y.jsx)(me.a,{})},Be=a(39),Fe=a.n(Be),Ue=a(80),He=a.n(Ue),ze=function(e){return Object(Y.jsxs)("div",{className:He.a.item,children:[Object(Y.jsx)("img",{src:"https://topmsg.ru/wp-content/uploads/anonymous.jpg",alt:"avatar picture"}),e.message,Object(Y.jsxs)("div",{className:He.a.like,children:[Object(Y.jsx)("span",{children:"like: "})," ",e.likescount]})]})},Ge=a(74),Re=function(e){var t=function(e){e.label;var t=Object(fe.a)(e,["label"]),a=Object(ye.e)(t),n=Object(ve.a)(a,1)[0];return Object(Y.jsx)(Y.Fragment,{children:Object(Y.jsx)("textarea",Object(l.a)(Object(l.a)({},n),t))})};return Object(Y.jsx)("div",{children:Object(Y.jsx)(ye.d,{initialValues:{postText:""},validationSchema:Ge.a({postText:Ge.b().min(2,"\u0425\u043e\u0442\u044f-\u0431\u044b 2 \u0441\u0438\u043c\u0432\u043e\u043b\u0430").max(500,"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e 500")}),onSubmit:function(t){e.addPost(t.postText)},children:function(e){return Object(Y.jsxs)(ye.c,{onSubmit:e.handleSubmit,children:[Object(Y.jsx)(t,{className:Fe.a.postTextField,name:"postText",type:"text-area",placeholder:" \u0427\u0442\u043e \u0443 \u0412\u0430\u0441 \u043d\u043e\u0432\u043e\u0433\u043e?",rows:"10",cols:"60"}),Object(Y.jsx)("div",{className:Fe.a.errors,children:Object(Y.jsx)(ye.a,{name:"postText"})}),Object(Y.jsx)("div",{className:Fe.a.button,children:Object(Y.jsx)("button",{type:"submit",children:"\u0417\u0430\u043f\u043e\u0441\u0442\u0438\u0442\u044c"})})]})}})})},qe=function(e){var t=Object(u.a)(e.postsState).reverse().map((function(e){return Object(Y.jsx)(ze,{message:e.message,likescount:e.likescount},e.id)}));return Object(Y.jsx)("div",{className:Fe.a.mypost,children:Object(Y.jsxs)("div",{children:[Object(Y.jsxs)("div",{className:Fe.a.labelMyPost,children:[Object(Y.jsx)("div",{children:Object(Y.jsx)("h3",{children:"My posts"})}),Object(Y.jsx)("div",{children:Object(Y.jsx)(Re,{addPost:e.addPost})})]}),Object(Y.jsx)("div",{className:Fe.a.divPost,children:t})]})})},We=Object(K.b)((function(e){return{postsState:e.profilePage.postsState,newPostText:e.profilePage.newPostText}}),(function(e){return{addPost:function(t){e(function(e){return{type:j,postText:e}}(t))}}}))(qe),Je=function(e){var t=Object.assign({},e);return Object(Y.jsx)("div",{className:pe.a.allProfile,children:Object(Y.jsx)("div",{className:pe.a.afterWall,children:t.isDownload?Object(Y.jsx)(me.a,{}):Object(Y.jsxs)("div",{children:[Object(Y.jsx)(Me,Object(l.a)(Object(l.a)({saveContacts:t.saveContacts},t),{},{isOwner:t.isOwner,profile:t.profile,status:t.status,updateStatus:t.updateStatus})),Object(Y.jsx)(We,{})]})})})},Ve=function(e){Object(G.a)(a,e);var t=Object(R.a)(a);function a(){return Object(H.a)(this,a),t.apply(this,arguments)}return Object(z.a)(a,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authorizedUserId)?(this.props.getProfileThunk(e),this.props.getUsersStatus(e)):this.props.history.push("/login")}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,a){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return Object(Y.jsx)(Je,Object(l.a)(Object(l.a)({},this.props),{},{isOwner:!this.props.match.params.userId}))}}]),a}(U.a.Component),Xe=Object(s.c)(Object(K.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,aboutMe:e.profilePage.aboutMe,authorizedUserId:e.auth.id,isAuth:e.auth.isAuth,isDownload:e.profilePage.isDownload}}),{getProfileThunk:_,getUsersStatus:function(e){return function(){var t=Object(o.a)(c.a.mark((function t(a){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.b.getStatus(e);case 2:n=t.sent,a(v(n.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateStatus:function(e){return function(){var t=Object(o.a)(c.a.mark((function t(a){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.b.updateStatus(e);case 2:0===t.sent.data.resultCode&&a(v(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},savePhotoThunk:function(e){return function(){var t=Object(o.a)(c.a.mark((function t(a){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(x(!0)),t.next=3,d.b.setMainPhotoApi(e);case 3:n=t.sent,a(x(!1)),0===n.data.resultCode&&a(g(n.data.data.photos));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},saveContacts:function(e){return function(){var t=Object(o.a)(c.a.mark((function t(a,n){var s;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=n().auth.id,t.next=3,d.b.saveContacts(e);case 3:0===t.sent.data.resultCode&&a(_(s));case 5:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()}}),q.f)(Ve),Ye=U.a.lazy((function(){return a.e(5).then(a.bind(null,260))})),Ze=U.a.lazy((function(){return a.e(4).then(a.bind(null,259))})),Ke=U.a.lazy((function(){return a.e(3).then(a.bind(null,258))})),Qe=function(e){Object(G.a)(a,e);var t=Object(R.a)(a);function a(){return Object(H.a)(this,a),t.apply(this,arguments)}return Object(z.a)(a,[{key:"componentDidMount",value:function(){this.props.initializeAppThunk()}},{key:"render",value:function(){return this.props.initialized?Object(Y.jsxs)("div",{children:[Object(Y.jsx)(se,{}),Object(Y.jsxs)("div",{className:"app-wrapper",children:[Object(Y.jsx)(Q,{}),Object(Y.jsx)("div",{className:"app-wrapper-content",children:Object(Y.jsxs)(F.Suspense,{fallback:Object(Y.jsx)(me.a,{}),children:[Object(Y.jsx)(q.b,{path:"/dialogs",render:function(){return Object(Y.jsx)(Ze,{})}}),Object(Y.jsx)(q.b,{path:"/profile/:userId?",render:function(){return Object(Y.jsx)(Xe,{})}}),Object(Y.jsx)(q.b,{path:"/users",render:function(){return Object(Y.jsx)(Ke,{})}}),Object(Y.jsx)(q.b,{path:"/music",component:ce}),Object(Y.jsx)(q.b,{path:"/news",component:oe}),Object(Y.jsx)(q.b,{path:"/settings",component:je}),Object(Y.jsx)(q.b,{path:"/login",component:Ye})]})})]})]}):Object(Y.jsx)(me.a,{})}}]),a}(U.a.Component),$e=Object(s.c)(q.f,Object(K.b)((function(e){return{initialized:e.app.initialized}}),{initializeAppThunk:function(){return function(e){var t=e(Object(S.a)());Promise.all([t]).then((function(){e({type:C})}))}}}))(Qe);B.a.render(Object(Y.jsx)(U.a.StrictMode,{children:Object(Y.jsx)(V.a,{children:Object(Y.jsx)(K.a,{store:A,children:Object(Y.jsx)($e,{})})})}),document.getElementById("root")),n()},29:function(e,t,a){"use strict";var n=a(78),s=a.n(n),r=(a(1),a(0));t.a=function(){return Object(r.jsx)("div",{className:s.a.preloader,children:Object(r.jsx)("div",{className:s.a.spinner,children:" "})})}},36:function(e,t,a){e.exports={wr1:"HeaderHtml_wr1__2vf40",loginBlock:"HeaderHtml_loginBlock__3xEN0",avaLogin:"HeaderHtml_avaLogin__15YA2",userLogin:"HeaderHtml_userLogin__DRrF8",outBtn:"HeaderHtml_outBtn__zMsfI",headLogo:"HeaderHtml_headLogo__Fsybj"}},39:function(e,t,a){e.exports={mypost:"MyPosts_mypost__37-rj",divPost:"MyPosts_divPost__3iMqs",labelMyPost:"MyPosts_labelMyPost__jyeCq",errors:"MyPosts_errors__hxFIs",button:"MyPosts_button__Ctg2l"}},40:function(e,t,a){"use strict";a.d(t,"a",(function(){return j})),a.d(t,"c",(function(){return b})),a.d(t,"d",(function(){return p}));var n=a(8),s=a.n(n),r=a(22),i=a(2),c=a(13),o="network/auth/AUTH_USER_DATA",u="network/profile/PROFILE_INFO",l={id:null,email:null,login:null,isAuth:!1,profile:null},d=function(e,t,a,n,s){return{type:o,payload:{id:e,email:t,login:a,isAuth:n,profile:s}}},j=function(){return function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,i,o,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.me();case 2:if(0!==(a=e.sent).data.resultCode){e.next=10;break}return n=a.data.data,r=n.id,i=n.email,o=n.login,t(d(r,i,o,!0)),e.next=8,c.b.getProfile(r);case 8:l=e.sent,t((s=l.data,{type:u,profile:s}));case 10:case"end":return e.stop()}var s}),e)})));return function(t){return e.apply(this,arguments)}}()},b=function(e,t,a,n,i,o,u){return function(){var i=Object(r.a)(s.a.mark((function r(i){var l,d;return s.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,c.a.login(e,t,a,u);case 2:if(0===(l=s.sent).data.resultCode&&i(j()),10!==l.data.resultCode){s.next=12;break}return o(l.data.messages),s.next=8,c.a.getCaptcha();case 8:d=s.sent,n(d.data.url),s.next=13;break;case 12:o(l.data.messages);case 13:case"end":return s.stop()}}),r)})));return function(e){return i.apply(this,arguments)}}()},p=function(){return function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.logout();case 2:0===e.sent.data.resultCode&&t(d(null,null,null,!1,null));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o:return Object(i.a)(Object(i.a)({},e),t.payload);case u:return Object(i.a)(Object(i.a)({},e),{},{profile:t.profile});default:return e}}},47:function(e,t,a){e.exports={dialogs:"Dialogs_dialogs__3uS9c",usersDialogs:"Dialogs_usersDialogs__3WFca",user:"Dialogs_user__1zwAL",activeLink:"Dialogs_activeLink__2mDNt",oneMessage:"Dialogs_oneMessage__3vJTs",name:"Dialogs_name__3NwXD",messages:"Dialogs_messages__pVrRU",other:"Dialogs_other__1oZ_0",answer:"Dialogs_answer__2BVBv",inputMessage:"Dialogs_inputMessage__3QDcu",errors:"Dialogs_errors__10lKJ",button:"Dialogs_button__1p1Va"}},48:function(e,t,a){"use strict";t.a=a.p+"static/media/no-user-26.d821428d.jpg"},50:function(e,t,a){e.exports={status:"ProfileStatus_status__1KsJa",textArea:"ProfileStatus_textArea___qW5N",statusArea:"ProfileStatus_statusArea__1-8Iu"}},6:function(e,t,a){e.exports={avaAndDesc:"Disc_avaAndDesc__3ks85",avaImg:"Disc_avaImg__25ZQh",loading:"Disc_loading__P7O4-",about:"Disc_about__3Mi41",divDesc:"Disc_divDesc__1q29N",divDescLabel:"Disc_divDescLabel__3px7_",userDecsName:"Disc_userDecsName__OiPgz",divDescLabelName:"Disc_divDescLabelName__QyC_G",contacts:"Disc_contacts__2G11g",links:"Disc_links__AZEPL",selectImg:"Disc_selectImg__3IYME",avatarInp:"Disc_avatarInp__3C2RY",settingBtn:"Disc_settingBtn__3KPT9",linksOrForm:"Disc_linksOrForm__3CNn9",editBtn:"Disc_editBtn__3G59D",noInfoContacts:"Disc_noInfoContacts__39F26"}},77:function(e,t,a){e.exports={afterWall:"Profile_afterWall__1hz4r",allProfile:"Profile_allProfile__3d2iy"}},78:function(e,t,a){e.exports={preloader:"Preloader_preloader__1k8b5",spinner:"Preloader_spinner__XNCHn",spin:"Preloader_spin__3FQC6"}},79:function(e,t,a){e.exports={backImgBtn:"SettingBtn_backImgBtn__2CERy",bgBtn:"SettingBtn_bgBtn__2ETN8"}},80:function(e,t,a){e.exports={item:"Post_item___KzIi",like:"Post_like__28MpH"}},82:function(e,t,a){"use strict";a.d(t,"b",(function(){return c}));var n=a(14),s=a(2),r="network/messages/SEND-MESSAGE",i={dialogsState:[{id:1,name:"Dimich",avatar:"https://i.ytimg.com/vi/iJ4UGNGzJzY/hqdefault.jpg?sqp=-oaymwEXCOADEI4CSFryq4qpAwkIARUAAIhCGAE=&rs=AOn4CLBnmgSojZdsUkxXfQLs7wK5dW0irw"},{id:2,name:"Maria",avatar:"https://www.seas.harvard.edu/sites/default/files/styles/embedded_image_large/public/images/news/zlatkova_maria_web_square.jpg?itok=Z2IqHSei"},{id:3,name:"Hannah",avatar:"https://cs50.harvard.edu/college/2019/fall/staff/media/Emma-Humphrey.png"},{id:4,name:"Rob",avatar:"https://cra.org/wp-content/uploads/2018/05/Robert-Bowden.jpg"},{id:5,name:"David",avatar:"https://upload.wikimedia.org/wikipedia/commons/thumb/3/38/David_J._Malan.png/220px-David_J._Malan.png"},{id:6,name:"Victor",avatar:"https://i.ytimg.com/an/TW0FUhT0m-Bqg2trTbSs0g/featured_channel.jpg?v=5fc22bf3"}],messageState:[{id:1,message:"Hello"},{id:2,message:"Hello World!"},{id:3,message:"All love triangle"},{id:4,message:"Nice 2 mu"},{id:5,message:"Yo"},{id:6,message:"Hello"}],answerState:[{id:1,message:"Hello, Dimich"},{id:2,message:"I can write it on JS!"}]},c=function(e){return{type:r,messageText:e}};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r:return Object(s.a)(Object(s.a)({},e),{},{answerState:[].concat(Object(n.a)(e.answerState),[{id:3,message:t.messageText}])});default:return e}}},91:function(e,t,a){"use strict";a(1);var n=a(47),s=a.n(n),r=a(18),i=a(0);t.a=function(e){var t="/dialogs/"+e.id;return Object(i.jsx)("div",{className:s.a.user,children:Object(i.jsxs)(r.b,{activeClassName:s.a.activeLink,to:t,children:[Object(i.jsx)("div",{className:s.a.avatar,children:Object(i.jsx)("img",{src:e.avatar,alt:"avatar"})}),Object(i.jsx)("div",{className:s.a.name,children:e.name})]})})}}},[[252,1,2]]]);
//# sourceMappingURL=main.36c3baa6.chunk.js.map