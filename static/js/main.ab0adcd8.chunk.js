(this["webpackJsonpway-of-samurai"]=this["webpackJsonpway-of-samurai"]||[]).push([[0],{114:function(e,t,a){"use strict";a.d(t,"d",(function(){return x})),a.d(t,"e",(function(){return _})),a.d(t,"c",(function(){return w})),a.d(t,"b",(function(){return N})),a.d(t,"f",(function(){return y}));var n=a(8),s=a.n(n),i=a(23),c=a(15),r=a(2),o=a(14),l=function(e,t,a,n){return e.map((function(e){return e[a]===t?Object(r.a)(Object(r.a)({},e),n):e}))},u="network/users/FOLLOW",d="network/users/UNFOLLOW",j="network/users/SET_USERS",b="network/users/SET_CURRENT_PAGE",p="network/users/SET_TOTAL_USERS_COUNT",f="network/users/TOGGLE_IS_FETCH",h="network/users/TOGGLE_IS_FOLLOWING_PROGRESS",O={users:[],pagesSize:100,totalUsersCount:0,currentPage:1,isFetch:!1,followingInProgress:[]},m=function(e){return{type:u,userId:e}},v=function(e){return{type:d,userId:e}},x=function(e){return{type:b,currentPage:e}},g=function(e){return{type:f,isFetch:e}},_=function(e,t){return{type:h,isFetching:e,userId:t}},w=function(e,t){return function(){var a=Object(i.a)(s.a.mark((function a(n){var i;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n(g(!0)),n(x(e)),a.next=4,o.c.getUsers(e,t);case 4:i=a.sent,n(g(!1)),n((c=i.items,{type:j,users:c})),n((s=i.totalCount,{type:p,totalUsersCount:s}));case 8:case"end":return a.stop()}var s,c}),a)})));return function(e){return a.apply(this,arguments)}}()},k=function(){var e=Object(i.a)(s.a.mark((function e(t,a,n,i){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(_(!0,a)),e.next=3,n(a);case 3:0===e.sent.data.resultCode&&t(i(a)),t(_(!1,a));case 6:case"end":return e.stop()}}),e)})));return function(t,a,n,s){return e.apply(this,arguments)}}(),N=function(e){return function(t){k(t,e,o.c.followUser.bind(o.c),m)}},y=function(e){return function(t){k(t,e,o.c.unFollowUser.bind(o.c),v),t(_(!0,e))}};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:return Object(r.a)(Object(r.a)({},e),{},{users:l(e.users,t.userId,"id",{followed:!0})});case d:return Object(r.a)(Object(r.a)({},e),{},{users:l(e.users,t.userId,"id",{followed:!1})});case j:return Object(r.a)(Object(r.a)({},e),{},{users:t.users});case b:return Object(r.a)(Object(r.a)({},e),{},{currentPage:t.currentPage});case p:return Object(r.a)(Object(r.a)({},e),{},{totalUsersCount:t.totalUsersCount});case f:return Object(r.a)(Object(r.a)({},e),{},{isFetch:t.isFetch});case h:return Object(r.a)(Object(r.a)({},e),{},{followingInProgress:t.isFetching?[].concat(Object(c.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!==t.userId}))});default:return e}}},117:function(e,t,a){e.exports={music:"Music_music__jAZj9"}},118:function(e,t,a){e.exports={settings:"Settings_settings__vgBiU"}},124:function(e,t,a){},14:function(e,t,a){"use strict";a.d(t,"c",(function(){return i})),a.d(t,"b",(function(){return c})),a.d(t,"a",(function(){return r}));var n=a(115),s=n.create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":"7143f507-a8a7-4262-988c-7695e2a8a1e3"}}),i={getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return s.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},getProfile:function(e){return console.warn("Obsolete method. Please use profileAPI.getProfile object."),c.getProfile(e)},followUser:function(e){return s.post("follow/".concat(e))},unFollowUser:function(e){return s.delete("follow/".concat(e))}},c={sendPhoto:function(e){return s.post("profile/photo",e)},getProfile:function(e){return s.get("profile/".concat(e))},getStatus:function(e){return s.get("profile/status/".concat(e))},updateStatus:function(e){return s.put("profile/status/",{status:e})},setMainPhotoApi:function(e){var t=new FormData;return t.append("image",e),s.put("profile/photo/",t,{headers:{"Content-Type":"multipart/form-data"}})},saveContacts:function(e){return s.put("profile",e)}},r={me:function(){return s.get("auth/me")},login:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3?arguments[3]:void 0;return s.post("/auth/login",{email:e,password:t,rememberMe:a,captcha:n})},logout:function(){return s.delete("/auth/login")},getCaptcha:function(){return s.get("security/get-captcha-url")}}},148:function(e,t,a){},16:function(e,t,a){e.exports={nav:"NavBar_nav__1KW5X",item:"NavBar_item__3EQDI",activeLink:"NavBar_activeLink__1qeZa",settings:"NavBar_settings___SIuJ",friends:"NavBar_friends__3yHn4",navMargin:"NavBar_navMargin__1w9Oc",users:"NavBar_users__362qv"}},252:function(e,t,a){"use strict";a.r(t);var n=function(e){e&&e instanceof Function&&a.e(6).then(a.bind(null,257)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,i=t.getLCP,c=t.getTTFB;a(e),n(e),s(e),i(e),c(e)}))},s=(a(124),a(30)),i=a(82),c=a(8),r=a.n(c),o=a(23),l=a(15),u=a(2),d=a(14),j="network/profile/ADD-POST",b="network/profile/SET_USERS_PROFILE",p="network/profile/SET_USERS_STATUS",f="network/profile/SET_CONTACTS",h="network/profile/SET_MAIN_PHOTO",O="network/profile/TOGGLE_IS_DOWNLOAD",m={postsState:[{id:1,message:"How are you ?",likescount:3},{id:2,message:"We will rock U",likescount:10},{id:3,message:"Check my Git",likescount:0},{id:4,message:"Check my Greets",likescount:0}],profile:null,status:"",aboutMe:null,isDownload:!1},v=function(e){return{type:p,status:e}},x=function(e){return{type:h,file:e}},g=function(e){return{type:O,isDownload:e}},_=function(e){return function(){var t=Object(o.a)(r.a.mark((function t(a){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(g(!0)),t.next=3,d.b.getProfile(e);case 3:n=t.sent,a(g(!1)),a((s=n.data,{type:b,profile:s}));case 6:case"end":return t.stop()}var s}),t)})));return function(e){return t.apply(this,arguments)}}()},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return Object(u.a)(Object(u.a)({},e),{},{postsState:[].concat(Object(l.a)(e.postsState),[{id:5,message:t.postText,likescount:0}])});case b:return Object(u.a)(Object(u.a)({},e),{},{profile:t.profile});case p:return Object(u.a)(Object(u.a)({},e),{},{status:t.status});case f:return Object(u.a)(Object(u.a)({},e),{},{profile:Object(u.a)(Object(u.a)({},e.profile),{},{profile:t.profile})});case h:return Object(u.a)(Object(u.a)({},e),{},{profile:Object(u.a)(Object(u.a)({},e.profile),{},{photos:t.file})});case O:return Object(u.a)(Object(u.a)({},e),{},{isDownload:t.isDownload});default:return e}},k=[{id:1,name:"Dimich",avatar:"https://i.ytimg.com/vi/iJ4UGNGzJzY/hqdefault.jpg?sqp=-oaymwEXCOADEI4CSFryq4qpAwkIARUAAIhCGAE=&rs=AOn4CLBnmgSojZdsUkxXfQLs7wK5dW0irw"},{id:2,name:"Maria",avatar:"https://www.seas.harvard.edu/sites/default/files/styles/embedded_image_large/public/images/news/zlatkova_maria_web_square.jpg?itok=Z2IqHSei"},{id:21,name:"Victor",avatar:"https://i.ytimg.com/an/TW0FUhT0m-Bqg2trTbSs0g/featured_channel.jpg?v=5fc22bf3"}],N=function(){return k},y=a(114),S=a(40),D=a(116),C="network/initial/INITIALISED_SUCCESS",P={initialized:!1},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:return Object(u.a)(Object(u.a)({},e),{},{initialized:!0});default:return e}},T=Object(s.b)({profilePage:w,dialogsPage:i.a,navBar:N,usersPage:y.a,auth:S.b,app:I}),E=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||s.c,A=Object(s.d)(T,E(Object(s.a)(D.a)));window.store=A;var L=A,M=a(57),F=a.n(M),B=a(1),U=a.n(B),V=a(4),z=a(5),H=a(11),G=a(12),R=(a(148),a(10)),q=a(16),J=a.n(q),W=a(18),K=a(91),X=a(0),Y=function(e){var t=e.state.map((function(e){return Object(X.jsx)(K.a,{name:e.name,id:e.id,avatar:e.avatar},e.id)}));return Object(X.jsxs)("nav",{className:J.a.nav,children:[Object(X.jsxs)("div",{className:J.a.navMargin,children:[Object(X.jsx)("div",{className:J.a.item,children:Object(X.jsx)(W.b,{to:"/profile",activeClassName:J.a.activeLink,children:"Profile"})}),Object(X.jsx)("div",{className:J.a.item,children:Object(X.jsx)(W.b,{to:"/dialogs",activeClassName:J.a.activeLink,children:"Messages"})}),Object(X.jsx)("div",{className:J.a.item,children:Object(X.jsx)(W.b,{to:"/news",activeClassName:J.a.activeLink,children:"News"})}),Object(X.jsx)("div",{className:J.a.item,children:Object(X.jsx)(W.b,{to:"/music",activeClassName:J.a.activeLink,children:"Music"})}),Object(X.jsx)("div",{className:"".concat(J.a.item," ").concat(J.a.settings),children:Object(X.jsx)(W.b,{to:"/settings",activeClassName:J.a.activeLink,children:"Settings"})}),Object(X.jsx)("div",{className:J.a.users,children:Object(X.jsx)(W.b,{to:"/users",activeClassName:J.a.activeLink,children:"Users"})}),Object(X.jsx)("div",{className:"".concat(J.a.item," ").concat(J.a.friends),children:"FRIENDS"})]}),t]})},Z=a(26),Q=Object(Z.b)((function(e){return{state:e.navBar}}),(function(){return{}}))(Y),$=a(36),ee=a.n($),te=a(48),ae=function(e){return Object(X.jsx)("div",{children:Object(X.jsxs)("div",{className:ee.a.wr1,children:[Object(X.jsx)("div",{className:ee.a.headLogo,children:Object(X.jsx)("img",{src:"https://cdn.iconscout.com/icon/premium/png-256-thumb/social-connection-7-771032.png",alt:"logo"})}),Object(X.jsx)("div",{children:e.profile?Object(X.jsxs)("div",{className:ee.a.loginBlock,children:[Object(X.jsx)("div",{className:ee.a.userLogin,children:e.login}),Object(X.jsx)("div",{className:ee.a.avaLogin,children:Object(X.jsx)("img",{src:e.profile.photos.small?e.profile.photos.small:te.a,alt:"avatar"})}),Object(X.jsx)("div",{className:ee.a.outBtn,children:Object(X.jsx)("button",{onClick:e.logoutThunk,children:"\u0412\u044b\u0439\u0442\u0438"})})]}):Object(X.jsxs)("div",{className:ee.a.loginBlock,children:[Object(X.jsx)(W.b,{to:"/login",children:"Login"}),Object(X.jsx)("img",{src:te.a,alt:"avatar"})]})})]})})},ne=function(e){Object(H.a)(a,e);var t=Object(G.a)(a);function a(){return Object(V.a)(this,a),t.apply(this,arguments)}return Object(z.a)(a,[{key:"render",value:function(){return Object(X.jsx)(ae,Object(u.a)({},this.props))}}]),a}(U.a.Component),se=Object(Z.b)((function(e){return{login:e.auth.login,isAuth:e.auth.isAuth,id:e.auth.id,email:e.auth.email,profile:e.auth.profile}}),{logoutThunk:S.d})(ne),ie=a(117),ce=a.n(ie),re=function(e){return Object(X.jsx)("div",{className:ce.a.music,children:"Music"})},oe=function(e){var t=Object(X.jsx)("iframe",{title:"news",width:"800",height:"350",className:"news",src:"http://feeds.feedburner.com/lenta/MpsS"}),a=Object(X.jsx)("iframe",{title:"news",width:"800",height:"350",className:"news",src:"http://feeds.feedburner.com/zakon/vWos"}),n=Object(X.jsx)("iframe",{title:"news",width:"800",height:"350",className:"news",src:"http://feeds.feedburner.com/mail/YeGC"}),s=Object(X.jsx)("iframe",{title:"news",width:"800",height:"350",className:"news",src:"http://feeds.feedburner.com/com/cMiY"}),i=Object(X.jsx)("iframe",{title:"news",width:"800",height:"350",className:"news",src:"http://feeds.feedburner.com/kzt"});return Object(X.jsxs)("div",{children:[Object(X.jsx)("div",{children:t}),Object(X.jsx)("div",{children:a}),Object(X.jsx)("div",{children:n}),Object(X.jsx)("div",{children:s}),Object(X.jsx)("div",{children:i})]})},le=a(118),ue=a.n(le),de=function(){var e=new FormData,t=document.querySelector("#photo");e.append("image",t.files[0]),d.b.sendPhoto(e).then((function(e){return console.log(e.data)}))},je=function(e){return Object(X.jsxs)("div",{className:ue.a.settings,children:[Object(X.jsx)("p",{children:"Settings"}),Object(X.jsx)("input",{type:"file",id:"photo"}),Object(X.jsx)("button",{onClick:de,children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})]})},be=a(77),pe=a.n(be),fe=a(21),he=a(3),Oe=a.n(he),me=a(29),ve=a(17),xe=a(50),ge=a.n(xe),_e=function(e){var t=e.isOwner,a=Object(fe.a)(e,["isOwner"]),n=Object(B.useState)(!1),s=Object(ve.a)(n,2),i=s[0],c=s[1],r=Object(B.useState)(a.status),o=Object(ve.a)(r,2),l=o[0],u=o[1];Object(B.useEffect)((function(){u(a.status)}),[a.status]);var d=function(){c(!0)},j=function(){c(!1),a.updateStatus(l)};return Object(X.jsx)("div",{children:t?Object(X.jsxs)("div",{onDoubleClick:d,className:ge.a.status,children:[!i&&Object(X.jsxs)("div",{children:[Object(X.jsx)("div",{className:ge.a.statusArea,children:a.status||"----"}),Object(X.jsx)("button",{onClick:d,children:"\u0421\u043c\u0435\u043d\u0430 \u0441\u0442\u0430\u0442\u0443\u0441\u0430"})]}),i&&Object(X.jsxs)("div",{className:ge.a.textArea,children:[Object(X.jsx)("textarea",{maxLength:"300",cols:"60",rows:"5",placeholder:"\u0412\u0430\u0448 \u0441\u0442\u0430\u0442\u0443\u0441",onChange:function(e){u(e.currentTarget.value)},autoFocus:!0,onFocus:function(e){return e.target.select()},onBlur:j,value:l}),Object(X.jsx)("button",{onClick:j,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})]}):Object(X.jsx)("div",{className:ge.a.statusArea,children:a.status||"----"})})},we=function(e){var t=e.contactTitle,a=e.contactValue;return Object(X.jsxs)("div",{className:Oe.a.contacts,children:[t,":",Object(X.jsx)("div",{className:Oe.a.contactsValues,children:a?Object(X.jsx)("a",{href:a,children:a}):Object(X.jsx)("span",{className:Oe.a.noInfoContacts,children:"no information"})})]})},ke=function(e){var t=e.profile,a=e.isOwner,n=e.goToEditMode;return Object(X.jsxs)("div",{children:[Object(X.jsx)("div",{className:Oe.a.nameField,children:Object.keys(t.contacts).map((function(e){return Object(X.jsx)(we,{contactTitle:e,contactValue:t.contacts[e]},e)}))}),Object(X.jsx)("div",{children:a&&Object(X.jsx)("button",{className:Oe.a.editBtn,onClick:n,children:"Edit"})})]})},Ne=function(e){var t=e.profile,a=e.isOwner,n=e.goToEditModeAbout;return Object(X.jsxs)("div",{className:Oe.a.divDesc,children:[Object(X.jsxs)("div",{className:Oe.a.divDescLabel,children:["\u041e \u0441\u0435\u0431\u0435:",Object(X.jsx)("span",{className:Oe.a.aboutValues,children:t.aboutMe})," "]}),Object(X.jsxs)("div",{className:Oe.a.divDescLabel,children:["\u041c\u043e\u0438 \u0441\u043a\u0438\u043b\u043b\u044b:",Object(X.jsxs)("span",{className:Oe.a.aboutValues,children:[" ",t.lookingForAJobDescription]})]}),Object(X.jsxs)("div",{className:Oe.a.divDescLabel,children:["\u0418\u0449\u0443 \u0440\u0430\u0431\u043e\u0442\u0443:",Object(X.jsxs)("span",{className:Oe.a.aboutValues,children:[" ",t.lookingForAJob?"\u0414\u0430":"\u041d\u0435\u0442"]})]}),Object(X.jsx)("div",{children:a&&Object(X.jsx)("button",{className:Oe.a.editBtn,onClick:n,children:"Edit"})})]})},ye=a(9),Se=function(e){var t=e.initialValues,a=e.outEditMode,n=Object(fe.a)(e,["initialValues","outEditMode"]);return Object(X.jsx)("div",{className:Oe.a.formiklinks,children:Object(X.jsx)(ye.d,{initialValues:t,onSubmit:function(e){n.saveContacts(e),a()},children:function(e){return Object(X.jsxs)(ye.c,{onSubmit:e.handleSubmit,children:[Object(X.jsxs)("div",{className:Oe.a.nameField,children:[Object(X.jsx)("div",{children:"facebook"}),Object(X.jsx)("div",{children:"website"}),Object(X.jsx)("div",{children:"vk"}),Object(X.jsx)("div",{children:"twitter"}),Object(X.jsx)("div",{children:"instagram"}),Object(X.jsx)("div",{children:"youtube"}),Object(X.jsx)("div",{children:"github"}),Object(X.jsx)("div",{children:"mainLink"})]}),Object(X.jsxs)("div",{className:Oe.a.fieldInpts,children:[Object(X.jsxs)("div",{children:[Object(X.jsx)("div",{children:Object(X.jsx)(ye.b,{name:"contacts.facebook",type:"text",placeholder:"facebook"})}),Object(X.jsx)("div",{children:Object(X.jsx)(ye.b,{name:"contacts.website",type:"text",placeholder:"website"})}),Object(X.jsx)("div",{children:Object(X.jsx)(ye.b,{name:"contacts.vk",type:"text",placeholder:"vk"})}),Object(X.jsx)("div",{children:Object(X.jsx)(ye.b,{name:"contacts.twitter",type:"text",placeholder:"twitter"})}),Object(X.jsx)("div",{children:Object(X.jsx)(ye.b,{name:"contacts.instagram",type:"text",placeholder:"instagram"})}),Object(X.jsx)("div",{children:Object(X.jsx)(ye.b,{name:"contacts.youtube",type:"text",placeholder:"youtube"})}),Object(X.jsx)("div",{children:Object(X.jsx)(ye.b,{name:"contacts.github",type:"text",placeholder:"github"})}),Object(X.jsx)("div",{children:Object(X.jsx)(ye.b,{name:"contacts.mainLink",type:"text",placeholder:"mainLink"})})]}),Object(X.jsxs)("div",{children:[Object(X.jsx)("button",{type:"submit",children:"Save"}),Object(X.jsx)("button",{onClick:a,children:"Cancel"})]})]})]})}})})},De=function(e){var t=e.initialValues,a=e.outEditMode,n=Object(fe.a)(e,["initialValues","outEditMode"]);return Object(X.jsx)("div",{className:Oe.a.formiklinks,children:Object(X.jsx)(ye.d,{initialValues:t,onSubmit:function(e){n.saveContacts(e),a()},children:function(e){return Object(X.jsxs)(ye.c,{onSubmit:e.handleSubmit,children:[Object(X.jsxs)("div",{className:Oe.a.nameField,children:[Object(X.jsx)("div",{children:"\u0412\u0430\u0448\u0435 \u0418\u043c\u044f "}),Object(X.jsx)("div",{children:"\u041e \u0441\u0435\u0431\u0435: "}),Object(X.jsx)("div",{children:"\u0412\u0430\u0448\u0438 \u0441\u043a\u0438\u043b\u043b\u044b: "}),Object(X.jsx)("div",{children:"\u0418\u0449\u0443 \u0440\u0430\u0431\u043e\u0442\u0443: "})]}),Object(X.jsxs)("div",{className:Oe.a.fieldInpts,children:[Object(X.jsxs)("div",{children:[Object(X.jsx)("div",{children:Object(X.jsx)(ye.b,{name:"fullName",type:"text",placeholder:"\u0432\u0430\u0448\u0435 \u0418\u043c\u044f"})}),Object(X.jsx)("div",{children:Object(X.jsx)(ye.b,{name:"aboutMe",type:"text",placeholder:"\u0440\u0430\u0441\u0441\u043a\u0430\u0436\u0438\u0442\u0435 \u043e \u0441\u0435\u0431\u0435"})}),Object(X.jsx)("div",{children:Object(X.jsx)(ye.b,{name:"lookingForAJobDescription",type:"text",placeholder:"skills"})}),Object(X.jsx)("div",{children:Object(X.jsx)(ye.b,{name:"lookingForAJob",type:"checkbox"})})]}),Object(X.jsxs)("div",{children:[Object(X.jsx)("button",{type:"submit",children:"Save"}),Object(X.jsx)("button",{onClick:a,children:"Cancel"})]})]})]})}})})},Ce=function(e){var t=e.outEditMode,a=e.saveContacts,n=e.initialValues;e.profile;return Object(X.jsx)("div",{children:Object(X.jsx)(Se,{initialValues:n,saveContacts:a,outEditMode:t})})},Pe=function(e){var t=e.profile,a=e.status,n=e.updateStatus,s=e.saveContacts,i=Object(fe.a)(e,["profile","status","updateStatus","saveContacts"]),c=Object(B.useState)(!1),r=Object(ve.a)(c,2),o=r[0],l=r[1],u=Object(B.useState)(!1),d=Object(ve.a)(u,2),j=d[0],b=d[1];return Object(X.jsxs)("div",{className:Oe.a.about,children:[Object(X.jsx)(_e,{isOwner:i.isOwner,status:a,updateStatus:n}),Object(X.jsx)("div",{className:Oe.a.linksOrForm,children:o?Object(X.jsx)(Ce,{profile:t,initialValues:t,saveContacts:s,outEditMode:function(){l(!1)}}):Object(X.jsx)(ke,{goToEditMode:function(){l(!0)},isOwner:i.isOwner,profile:t})}),j?Object(X.jsx)(De,{profile:t,initialValues:t,saveContacts:s,outEditMode:function(){b(!1)}}):Object(X.jsx)(Ne,{goToEditModeAbout:function(){b(!0)},isOwner:i.isOwner,profile:t})]})},Ie=a.p+"static/media/settingBtn.72679fc5.svg",Te=a(79),Ee=a.n(Te),Ae=function(e){return Object(X.jsx)("div",{className:Ee.a.bgBtn,children:Object(X.jsx)("input",{disabled:e.isDownload,className:Ee.a.backImgBtn,type:"image",src:Ie,alt:"btn",onClick:e.onClick})})};var Le=function(e){var t=e.profile,a=Object(fe.a)(e,["profile"]),n=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=U.a.useState(e),a=Object(ve.a)(t,2),n=a[0],s=a[1],i=U.a.useCallback((function(){s((function(e){return!e}))}),[]);return[n,i]}(),s=Object(ve.a)(n,2),i=s[0],c=s[1],r=function(){c()},o=t.photos.large||te.a;return Object(X.jsxs)("div",{className:Oe.a.avaImg,children:[a.isDownload?Object(X.jsx)("div",{className:Oe.a.loading,children:Object(X.jsx)(me.a,{})}):Object(X.jsx)("img",{src:o,alt:"avatar"}),a.isOwner?Object(X.jsx)("div",{className:Oe.a.settingBtn,children:Object(X.jsx)(Ae,{isDownload:a.isDownload,onClick:r})}):null,!i&&null,i&&Object(X.jsxs)("div",{children:[Object(X.jsx)("div",{className:Oe.a.selectImg,children:" "}),Object(X.jsxs)("div",{className:Oe.a.avatarInp,children:[a.isOwner?Object(X.jsx)("input",{type:"file",onChange:function(e){e.target.files.length&&(a.savePhotoThunk(e.target.files[0]),r())}}):null,Object(X.jsx)("input",{type:"button",onClick:r,value:"\u043e\u0442\u043c\u0435\u043d\u0430"})]})]})]})},Me=function(e){var t=e.profile;return Object(X.jsxs)("div",{className:Oe.a.userDecsName,children:[t.fullName,Object(X.jsxs)("div",{className:Oe.a.divDescLabelName,children:["id:",t.userId]})]})},Fe=function(e){var t=e.profile,a=e.updateStatus,n=e.status,s=e.saveContacts,i=Object(fe.a)(e,["profile","updateStatus","status","saveContacts"]);return t?Object(X.jsxs)("div",{className:Oe.a.avaAndDesc,children:[Object(X.jsx)(Me,{profile:t}),Object(X.jsx)(Le,Object(u.a)({profile:t},i)),Object(X.jsx)(Pe,{saveContacts:s,isOwner:i.isOwner,updateStatus:a,status:n,profile:t})]}):Object(X.jsx)(me.a,{})},Be=a(39),Ue=a.n(Be),Ve=a(80),ze=a.n(Ve),He=function(e){return Object(X.jsxs)("div",{className:ze.a.item,children:[Object(X.jsx)("img",{src:"https://topmsg.ru/wp-content/uploads/anonymous.jpg",alt:"avatar picture"}),e.message,Object(X.jsxs)("div",{className:ze.a.like,children:[Object(X.jsx)("span",{children:"like: "})," ",e.likescount]})]})},Ge=a(74),Re=function(e){var t=function(e){e.label;var t=Object(fe.a)(e,["label"]),a=Object(ye.e)(t),n=Object(ve.a)(a,1)[0];return Object(X.jsx)(X.Fragment,{children:Object(X.jsx)("textarea",Object(u.a)(Object(u.a)({},n),t))})};return Object(X.jsx)("div",{children:Object(X.jsx)(ye.d,{initialValues:{postText:""},validationSchema:Ge.a({postText:Ge.b().min(2,"\u0425\u043e\u0442\u044f-\u0431\u044b 2 \u0441\u0438\u043c\u0432\u043e\u043b\u0430").max(500,"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e 500")}),onSubmit:function(t){e.addPost(t.postText)},children:function(e){return Object(X.jsxs)(ye.c,{onSubmit:e.handleSubmit,children:[Object(X.jsx)(t,{className:Ue.a.postTextField,name:"postText",type:"text-area",placeholder:" \u0427\u0442\u043e \u0443 \u0412\u0430\u0441 \u043d\u043e\u0432\u043e\u0433\u043e?",rows:"10",cols:"60"}),Object(X.jsx)("div",{className:Ue.a.errors,children:Object(X.jsx)(ye.a,{name:"postText"})}),Object(X.jsx)("div",{className:Ue.a.button,children:Object(X.jsx)("button",{type:"submit",children:"\u0417\u0430\u043f\u043e\u0441\u0442\u0438\u0442\u044c"})})]})}})})},qe=function(e){var t=Object(l.a)(e.postsState).reverse().map((function(e){return Object(X.jsx)(He,{message:e.message,likescount:e.likescount},e.id)}));return Object(X.jsx)("div",{className:Ue.a.mypost,children:Object(X.jsxs)("div",{children:[Object(X.jsxs)("div",{className:Ue.a.labelMyPost,children:[Object(X.jsx)("div",{children:Object(X.jsx)("h3",{children:"My posts"})}),Object(X.jsx)("div",{children:Object(X.jsx)(Re,{addPost:e.addPost})})]}),Object(X.jsx)("div",{className:Ue.a.divPost,children:t})]})})},Je=Object(Z.b)((function(e){return{postsState:e.profilePage.postsState,newPostText:e.profilePage.newPostText}}),(function(e){return{addPost:function(t){e(function(e){return{type:j,postText:e}}(t))}}}))(qe),We=function(e){var t=Object.assign({},e);return Object(X.jsx)("div",{className:pe.a.allProfile,children:Object(X.jsx)("div",{className:pe.a.afterWall,children:t.isDownload?Object(X.jsx)(me.a,{}):Object(X.jsxs)("div",{children:[Object(X.jsx)(Fe,Object(u.a)(Object(u.a)({saveContacts:t.saveContacts},t),{},{isOwner:t.isOwner,profile:t.profile,status:t.status,updateStatus:t.updateStatus})),Object(X.jsx)(Je,{})]})})})},Ke=function(e){Object(H.a)(a,e);var t=Object(G.a)(a);function a(){return Object(V.a)(this,a),t.apply(this,arguments)}return Object(z.a)(a,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authorizedUserId)?(this.props.getProfileThunk(e),this.props.getUsersStatus(e)):this.props.history.push("/login")}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,a){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return Object(X.jsx)(We,Object(u.a)(Object(u.a)({},this.props),{},{isOwner:!this.props.match.params.userId}))}}]),a}(U.a.Component),Xe=Object(s.c)(Object(Z.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,aboutMe:e.profilePage.aboutMe,authorizedUserId:e.auth.id,isAuth:e.auth.isAuth,isDownload:e.profilePage.isDownload}}),{getProfileThunk:_,getUsersStatus:function(e){return function(){var t=Object(o.a)(r.a.mark((function t(a){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.b.getStatus(e);case 2:n=t.sent,a(v(n.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateStatus:function(e){return function(){var t=Object(o.a)(r.a.mark((function t(a){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.b.updateStatus(e);case 2:0===t.sent.data.resultCode&&a(v(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},savePhotoThunk:function(e){return function(){var t=Object(o.a)(r.a.mark((function t(a){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(g(!0)),t.next=3,d.b.setMainPhotoApi(e);case 3:n=t.sent,a(g(!1)),0===n.data.resultCode&&a(x(n.data.data.photos));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},saveContacts:function(e){return function(){var t=Object(o.a)(r.a.mark((function t(a,n){var s;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=n().auth.id,t.next=3,d.b.saveContacts(e);case 3:0===t.sent.data.resultCode&&a(_(s));case 5:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()}}),R.f)(Ke),Ye=U.a.lazy((function(){return a.e(5).then(a.bind(null,260))})),Ze=U.a.lazy((function(){return a.e(4).then(a.bind(null,259))})),Qe=U.a.lazy((function(){return a.e(3).then(a.bind(null,258))})),$e=function(e){Object(H.a)(a,e);var t=Object(G.a)(a);function a(){return Object(V.a)(this,a),t.apply(this,arguments)}return Object(z.a)(a,[{key:"componentDidMount",value:function(){this.props.initializeAppThunk()}},{key:"render",value:function(){return this.props.initialized?Object(X.jsxs)("div",{children:[Object(X.jsx)(se,{}),Object(X.jsxs)("div",{className:"app-wrapper",children:[Object(X.jsx)(Q,{}),Object(X.jsx)("div",{className:"app-wrapper-content",children:Object(X.jsxs)(B.Suspense,{fallback:Object(X.jsx)(me.a,{}),children:[Object(X.jsx)(R.b,{path:"/dialogs",render:function(){return Object(X.jsx)(Ze,{})}}),Object(X.jsx)(R.b,{path:"/profile/:userId?",render:function(){return Object(X.jsx)(Xe,{})}}),Object(X.jsx)(R.b,{path:"/users",render:function(){return Object(X.jsx)(Qe,{})}}),Object(X.jsx)(R.b,{path:"/music",component:re}),Object(X.jsx)(R.b,{path:"/news",component:oe}),Object(X.jsx)(R.b,{path:"/settings",component:je}),Object(X.jsx)(R.b,{path:"/login",component:Ye})]})})]})]}):Object(X.jsx)(me.a,{})}}]),a}(U.a.Component),et=Object(s.c)(R.f,Object(Z.b)((function(e){return{initialized:e.app.initialized}}),{initializeAppThunk:function(){return function(e){var t=e(Object(S.a)());Promise.all([t]).then((function(){e({type:C})}))}}}))($e);F.a.render(Object(X.jsx)(U.a.StrictMode,{children:Object(X.jsx)(W.a,{children:Object(X.jsx)(Z.a,{store:L,children:Object(X.jsx)(et,{})})})}),document.getElementById("root")),n()},29:function(e,t,a){"use strict";var n=a(78),s=a.n(n),i=(a(1),a(0));t.a=function(){return Object(i.jsx)("div",{className:s.a.preloader,children:Object(i.jsx)("div",{className:s.a.spinner,children:" "})})}},3:function(e,t,a){e.exports={avaAndDesc:"Disc_avaAndDesc__3ks85",avaImg:"Disc_avaImg__25ZQh",loading:"Disc_loading__P7O4-",about:"Disc_about__3Mi41",divDesc:"Disc_divDesc__1q29N",divDescLabel:"Disc_divDescLabel__3px7_",userDecsName:"Disc_userDecsName__OiPgz",divDescLabelName:"Disc_divDescLabelName__QyC_G",contacts:"Disc_contacts__2G11g",links:"Disc_links__AZEPL",formiklinks:"Disc_formiklinks__2GvVS",selectImg:"Disc_selectImg__3IYME",avatarInp:"Disc_avatarInp__3C2RY",settingBtn:"Disc_settingBtn__3KPT9",linksOrForm:"Disc_linksOrForm__3CNn9",editBtn:"Disc_editBtn__3G59D",noInfoContacts:"Disc_noInfoContacts__39F26",nameField:"Disc_nameField__2gI53",fieldInpts:"Disc_fieldInpts__3BPLK",contactsValues:"Disc_contactsValues__1ztAc",aboutValues:"Disc_aboutValues__1w7PF"}},36:function(e,t,a){e.exports={wr1:"HeaderHtml_wr1__2vf40",loginBlock:"HeaderHtml_loginBlock__3xEN0",avaLogin:"HeaderHtml_avaLogin__15YA2",userLogin:"HeaderHtml_userLogin__DRrF8",outBtn:"HeaderHtml_outBtn__zMsfI",headLogo:"HeaderHtml_headLogo__Fsybj"}},39:function(e,t,a){e.exports={mypost:"MyPosts_mypost__37-rj",divPost:"MyPosts_divPost__3iMqs",labelMyPost:"MyPosts_labelMyPost__jyeCq",errors:"MyPosts_errors__hxFIs",button:"MyPosts_button__Ctg2l"}},40:function(e,t,a){"use strict";a.d(t,"a",(function(){return j})),a.d(t,"c",(function(){return b})),a.d(t,"d",(function(){return p}));var n=a(8),s=a.n(n),i=a(23),c=a(2),r=a(14),o="network/auth/AUTH_USER_DATA",l="network/profile/PROFILE_INFO",u={id:null,email:null,login:null,isAuth:!1,profile:null},d=function(e,t,a,n,s){return{type:o,payload:{id:e,email:t,login:a,isAuth:n,profile:s}}},j=function(){return function(){var e=Object(i.a)(s.a.mark((function e(t){var a,n,i,c,o,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.a.me();case 2:if(0!==(a=e.sent).data.resultCode){e.next=10;break}return n=a.data.data,i=n.id,c=n.email,o=n.login,t(d(i,c,o,!0)),e.next=8,r.b.getProfile(i);case 8:u=e.sent,t((s=u.data,{type:l,profile:s}));case 10:case"end":return e.stop()}var s}),e)})));return function(t){return e.apply(this,arguments)}}()},b=function(e,t,a,n,c,o,l){return function(){var c=Object(i.a)(s.a.mark((function i(c){var u,d;return s.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,r.a.login(e,t,a,l);case 2:if(0===(u=s.sent).data.resultCode&&c(j()),10!==u.data.resultCode){s.next=12;break}return o(u.data.messages),s.next=8,r.a.getCaptcha();case 8:d=s.sent,n(d.data.url),s.next=13;break;case 12:o(u.data.messages);case 13:case"end":return s.stop()}}),i)})));return function(e){return c.apply(this,arguments)}}()},p=function(){return function(){var e=Object(i.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.a.logout();case 2:0===e.sent.data.resultCode&&t(d(null,null,null,!1,null));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o:return Object(c.a)(Object(c.a)({},e),t.payload);case l:return Object(c.a)(Object(c.a)({},e),{},{profile:t.profile});default:return e}}},47:function(e,t,a){e.exports={dialogs:"Dialogs_dialogs__3uS9c",usersDialogs:"Dialogs_usersDialogs__3WFca",user:"Dialogs_user__1zwAL",activeLink:"Dialogs_activeLink__2mDNt",oneMessage:"Dialogs_oneMessage__3vJTs",name:"Dialogs_name__3NwXD",messages:"Dialogs_messages__pVrRU",other:"Dialogs_other__1oZ_0",answer:"Dialogs_answer__2BVBv",inputMessage:"Dialogs_inputMessage__3QDcu",errors:"Dialogs_errors__10lKJ",button:"Dialogs_button__1p1Va"}},48:function(e,t,a){"use strict";t.a=a.p+"static/media/no-user-26.d821428d.jpg"},50:function(e,t,a){e.exports={status:"ProfileStatus_status__1KsJa",textArea:"ProfileStatus_textArea___qW5N",statusArea:"ProfileStatus_statusArea__1-8Iu"}},77:function(e,t,a){e.exports={afterWall:"Profile_afterWall__1hz4r",allProfile:"Profile_allProfile__3d2iy"}},78:function(e,t,a){e.exports={preloader:"Preloader_preloader__1k8b5",spinner:"Preloader_spinner__XNCHn",spin:"Preloader_spin__3FQC6"}},79:function(e,t,a){e.exports={backImgBtn:"SettingBtn_backImgBtn__2CERy",bgBtn:"SettingBtn_bgBtn__2ETN8"}},80:function(e,t,a){e.exports={item:"Post_item___KzIi",like:"Post_like__28MpH"}},82:function(e,t,a){"use strict";a.d(t,"b",(function(){return r}));var n=a(15),s=a(2),i="network/messages/SEND-MESSAGE",c={dialogsState:[{id:1,name:"Dimich",avatar:"https://i.ytimg.com/vi/iJ4UGNGzJzY/hqdefault.jpg?sqp=-oaymwEXCOADEI4CSFryq4qpAwkIARUAAIhCGAE=&rs=AOn4CLBnmgSojZdsUkxXfQLs7wK5dW0irw"},{id:2,name:"Maria",avatar:"https://www.seas.harvard.edu/sites/default/files/styles/embedded_image_large/public/images/news/zlatkova_maria_web_square.jpg?itok=Z2IqHSei"},{id:3,name:"Hannah",avatar:"https://cs50.harvard.edu/college/2019/fall/staff/media/Emma-Humphrey.png"},{id:4,name:"Rob",avatar:"https://cra.org/wp-content/uploads/2018/05/Robert-Bowden.jpg"},{id:5,name:"David",avatar:"https://upload.wikimedia.org/wikipedia/commons/thumb/3/38/David_J._Malan.png/220px-David_J._Malan.png"},{id:6,name:"Victor",avatar:"https://i.ytimg.com/an/TW0FUhT0m-Bqg2trTbSs0g/featured_channel.jpg?v=5fc22bf3"}],messageState:[{id:1,message:"Hello"},{id:2,message:"Hello World!"},{id:3,message:"All love triangle"},{id:4,message:"Nice 2 mu"},{id:5,message:"Yo"},{id:6,message:"Hello"}],answerState:[{id:1,message:"Hello, Dimich"},{id:2,message:"I can write it on JS!"}]},r=function(e){return{type:i,messageText:e}};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i:return Object(s.a)(Object(s.a)({},e),{},{answerState:[].concat(Object(n.a)(e.answerState),[{id:3,message:t.messageText}])});default:return e}}},91:function(e,t,a){"use strict";a(1);var n=a(47),s=a.n(n),i=a(18),c=a(0);t.a=function(e){var t="/dialogs/"+e.id;return Object(c.jsx)("div",{className:s.a.user,children:Object(c.jsxs)(i.b,{activeClassName:s.a.activeLink,to:t,children:[Object(c.jsx)("div",{className:s.a.avatar,children:Object(c.jsx)("img",{src:e.avatar,alt:"avatar"})}),Object(c.jsx)("div",{className:s.a.name,children:e.name})]})})}}},[[252,1,2]]]);
//# sourceMappingURL=main.ab0adcd8.chunk.js.map