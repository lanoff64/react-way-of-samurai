(this["webpackJsonpway-of-samurai"]=this["webpackJsonpway-of-samurai"]||[]).push([[0],{114:function(e,t,a){"use strict";a.d(t,"d",(function(){return g})),a.d(t,"e",(function(){return x})),a.d(t,"c",(function(){return w})),a.d(t,"b",(function(){return N})),a.d(t,"f",(function(){return y}));var n=a(7),s=a.n(n),r=a(21),i=a(13),c=a(2),o=a(12),u=function(e,t,a,n){return e.map((function(e){return e[a]===t?Object(c.a)(Object(c.a)({},e),n):e}))},l="network/users/FOLLOW",d="network/users/UNFOLLOW",j="network/users/SET_USERS",b="network/users/SET_CURRENT_PAGE",p="network/users/SET_TOTAL_USERS_COUNT",f="network/users/TOGGLE_IS_FETCH",h="network/users/TOGGLE_IS_FOLLOWING_PROGRESS",m={users:[],pagesSize:100,totalUsersCount:0,currentPage:1,isFetch:!1,followingInProgress:[]},O=function(e){return{type:l,userId:e}},v=function(e){return{type:d,userId:e}},g=function(e){return{type:b,currentPage:e}},_=function(e){return{type:f,isFetch:e}},x=function(e,t){return{type:h,isFetching:e,userId:t}},w=function(e,t){return function(){var a=Object(r.a)(s.a.mark((function a(n){var r;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n(_(!0)),n(g(e)),a.next=4,o.c.getUsers(e,t);case 4:r=a.sent,n(_(!1)),n((i=r.items,{type:j,users:i})),n((s=r.totalCount,{type:p,totalUsersCount:s}));case 8:case"end":return a.stop()}var s,i}),a)})));return function(e){return a.apply(this,arguments)}}()},k=function(){var e=Object(r.a)(s.a.mark((function e(t,a,n,r){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(x(!0,a)),e.next=3,n(a);case 3:0===e.sent.data.resultCode&&t(r(a)),t(x(!1,a));case 6:case"end":return e.stop()}}),e)})));return function(t,a,n,s){return e.apply(this,arguments)}}(),N=function(e){return function(t){k(t,e,o.c.followUser.bind(o.c),O)}},y=function(e){return function(t){k(t,e,o.c.unFollowUser.bind(o.c),v),t(x(!0,e))}};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:return Object(c.a)(Object(c.a)({},e),{},{users:u(e.users,t.userId,"id",{followed:!0})});case d:return Object(c.a)(Object(c.a)({},e),{},{users:u(e.users,t.userId,"id",{followed:!1})});case j:return Object(c.a)(Object(c.a)({},e),{},{users:t.users});case b:return Object(c.a)(Object(c.a)({},e),{},{currentPage:t.currentPage});case p:return Object(c.a)(Object(c.a)({},e),{},{totalUsersCount:t.totalUsersCount});case f:return Object(c.a)(Object(c.a)({},e),{},{isFetch:t.isFetch});case h:return Object(c.a)(Object(c.a)({},e),{},{followingInProgress:t.isFetching?[].concat(Object(i.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!==t.userId}))});default:return e}}},117:function(e,t,a){e.exports={music:"Music_music__jAZj9"}},118:function(e,t,a){e.exports={settings:"Settings_settings__vgBiU"}},12:function(e,t,a){"use strict";a.d(t,"c",(function(){return r})),a.d(t,"b",(function(){return i})),a.d(t,"a",(function(){return c}));var n=a(115),s=n.create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":"7143f507-a8a7-4262-988c-7695e2a8a1e3"}}),r={getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return s.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},getProfile:function(e){return console.warn("Obsolete method. Please use profileAPI.getProfile object."),i.getProfile(e)},followUser:function(e){return s.post("follow/".concat(e))},unFollowUser:function(e){return s.delete("follow/".concat(e))}},i={sendPhoto:function(e){return s.post("profile/photo",e)},getProfile:function(e){return s.get("profile/".concat(e))},getStatus:function(e){return s.get("profile/status/".concat(e))},updateStatus:function(e){return s.put("profile/status/",{status:e})},setMainPhotoApi:function(e){var t=new FormData;return t.append("image",e),s.put("profile/photo/",t,{headers:{"Content-Type":"multipart/form-data"}})},updateAboutMe:function(e,t){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{facebook:"facebook.com/ruslan",github:"github.com/ruslan",instagram:"instagram.com/ruslan",mainLink:null,twitter:"https://twitter.com/@ruslan",vk:"vk.com/ruslan",website:"ruslan.com",youtube:"https://www.youtube.com/channel/ruslan"};return s.put("profile",{aboutMe:e,FullName:t,LookingForAJobDescription:a,lookingForAJob:n,contacts:r})}},c={me:function(){return s.get("auth/me")},login:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3?arguments[3]:void 0;return s.post("/auth/login",{email:e,password:t,rememberMe:a,captcha:n})},logout:function(){return s.delete("/auth/login")},getCaptcha:function(){return s.get("security/get-captcha-url")}}},124:function(e,t,a){},14:function(e,t,a){e.exports={avaAndDesc:"Disc_avaAndDesc__3ks85",avaImg:"Disc_avaImg__25ZQh",loading:"Disc_loading__P7O4-",about:"Disc_about__3Mi41",divDesc:"Disc_divDesc__1q29N",divDescLabel:"Disc_divDescLabel__3px7_",userDecsName:"Disc_userDecsName__OiPgz",divDescLabelName:"Disc_divDescLabelName__QyC_G",links:"Disc_links__AZEPL",selectImg:"Disc_selectImg__3IYME",avatarInp:"Disc_avatarInp__3C2RY",settingBtn:"Disc_settingBtn__3KPT9"}},148:function(e,t,a){},15:function(e,t,a){e.exports={nav:"NavBar_nav__1KW5X",item:"NavBar_item__3EQDI",activeLink:"NavBar_activeLink__1qeZa",settings:"NavBar_settings___SIuJ",friends:"NavBar_friends__3yHn4",navMargin:"NavBar_navMargin__1w9Oc",users:"NavBar_users__362qv"}},252:function(e,t,a){"use strict";a.r(t);var n=function(e){e&&e instanceof Function&&a.e(6).then(a.bind(null,257)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,r=t.getLCP,i=t.getTTFB;a(e),n(e),s(e),r(e),i(e)}))},s=(a(124),a(27)),r=a(82),i=a(7),c=a.n(i),o=a(21),u=a(13),l=a(2),d=a(12),j="network/profile/ADD-POST",b="network/profile/SET_USERS_PROFILE",p="network/profile/SET_USERS_STATUS",f="network/profile/SET_USER_ABOUT",h="network/profile/SET_MAIN_PHOTO",m="network/profile/TOGGLE_IS_DOWNLOAD",O={postsState:[{id:1,message:"How are you ?",likescount:3},{id:2,message:"We will rock U",likescount:10},{id:3,message:"Check my Git",likescount:0},{id:4,message:"Check my Greets",likescount:0}],profile:null,status:"",aboutMe:null,isDownload:!1},v=function(e){return{type:p,status:e}},g=function(e){return{type:f,aboutMe:e}},_=function(e){return{type:h,file:e}},x=function(e){return{type:m,isDownload:e}},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return Object(l.a)(Object(l.a)({},e),{},{postsState:[].concat(Object(u.a)(e.postsState),[{id:5,message:t.postText,likescount:0}])});case b:return Object(l.a)(Object(l.a)({},e),{},{profile:t.profile});case p:return Object(l.a)(Object(l.a)({},e),{},{status:t.status});case f:return Object(l.a)(Object(l.a)({},e),{},{aboutMe:t.aboutMe});case h:return Object(l.a)(Object(l.a)({},e),{},{profile:Object(l.a)(Object(l.a)({},e.profile),{},{photos:t.file})});case m:return Object(l.a)(Object(l.a)({},e),{},{isDownload:t.isDownload});default:return e}},k=[{id:1,name:"Dimich",avatar:"https://i.ytimg.com/vi/iJ4UGNGzJzY/hqdefault.jpg?sqp=-oaymwEXCOADEI4CSFryq4qpAwkIARUAAIhCGAE=&rs=AOn4CLBnmgSojZdsUkxXfQLs7wK5dW0irw"},{id:2,name:"Maria",avatar:"https://www.seas.harvard.edu/sites/default/files/styles/embedded_image_large/public/images/news/zlatkova_maria_web_square.jpg?itok=Z2IqHSei"},{id:21,name:"Victor",avatar:"https://i.ytimg.com/an/TW0FUhT0m-Bqg2trTbSs0g/featured_channel.jpg?v=5fc22bf3"}],N=function(){return k},y=a(114),S=a(39),D=a(116),P="network/initial/INITIALISED_SUCCESS",I={initialized:!1},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case P:return Object(l.a)(Object(l.a)({},e),{},{initialized:!0});default:return e}},A=Object(s.b)({profilePage:w,dialogsPage:r.a,navBar:N,usersPage:y.a,auth:S.b,app:C}),L=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||s.c,T=Object(s.d)(A,L(Object(s.a)(D.a)));window.store=T;var M=T,E=a(56),U=a.n(E),B=a(0),F=a.n(B),H=a(3),z=a(4),R=a(9),q=a(10),G=(a(148),a(8)),J=a(15),W=a.n(J),X=a(16),Y=a(91),Z=a(1),K=function(e){var t=e.state.map((function(e){return Object(Z.jsx)(Y.a,{name:e.name,id:e.id,avatar:e.avatar},e.id)}));return Object(Z.jsxs)("nav",{className:W.a.nav,children:[Object(Z.jsxs)("div",{className:W.a.navMargin,children:[Object(Z.jsx)("div",{className:W.a.item,children:Object(Z.jsx)(X.b,{to:"/profile",activeClassName:W.a.activeLink,children:"Profile"})}),Object(Z.jsx)("div",{className:W.a.item,children:Object(Z.jsx)(X.b,{to:"/dialogs",activeClassName:W.a.activeLink,children:"Messages"})}),Object(Z.jsx)("div",{className:W.a.item,children:Object(Z.jsx)(X.b,{to:"/news",activeClassName:W.a.activeLink,children:"News"})}),Object(Z.jsx)("div",{className:W.a.item,children:Object(Z.jsx)(X.b,{to:"/music",activeClassName:W.a.activeLink,children:"Music"})}),Object(Z.jsx)("div",{className:"".concat(W.a.item," ").concat(W.a.settings),children:Object(Z.jsx)(X.b,{to:"/settings",activeClassName:W.a.activeLink,children:"Settings"})}),Object(Z.jsx)("div",{className:W.a.users,children:Object(Z.jsx)(X.b,{to:"/users",activeClassName:W.a.activeLink,children:"Users"})}),Object(Z.jsx)("div",{className:"".concat(W.a.item," ").concat(W.a.friends),children:"FRIENDS"})]}),t]})},Q=a(24),V=Object(Q.b)((function(e){return{state:e.navBar}}),(function(){return{}}))(K),$=a(34),ee=a.n($),te=a(47),ae=function(e){return Object(Z.jsx)("div",{children:Object(Z.jsxs)("div",{className:ee.a.wr1,children:[Object(Z.jsx)("div",{className:ee.a.headLogo,children:Object(Z.jsx)("img",{src:"https://cdn.iconscout.com/icon/premium/png-256-thumb/social-connection-7-771032.png",alt:"logo"})}),Object(Z.jsx)("div",{children:e.profile?Object(Z.jsxs)("div",{className:ee.a.loginBlock,children:[Object(Z.jsx)("div",{className:ee.a.userLogin,children:e.login}),Object(Z.jsx)("div",{className:ee.a.avaLogin,children:Object(Z.jsx)("img",{src:e.profile.photos.small?e.profile.photos.small:te.a,alt:"avatar"})}),Object(Z.jsx)("div",{className:ee.a.outBtn,children:Object(Z.jsx)("button",{onClick:e.logoutThunk,children:"\u0412\u044b\u0439\u0442\u0438"})})]}):Object(Z.jsxs)("div",{className:ee.a.loginBlock,children:[Object(Z.jsx)(X.b,{to:"/login",children:"Login"}),Object(Z.jsx)("img",{src:te.a,alt:"avatar"})]})})]})})},ne=function(e){Object(R.a)(a,e);var t=Object(q.a)(a);function a(){return Object(H.a)(this,a),t.apply(this,arguments)}return Object(z.a)(a,[{key:"render",value:function(){return Object(Z.jsx)(ae,Object(l.a)({},this.props))}}]),a}(F.a.Component),se=Object(Q.b)((function(e){return{login:e.auth.login,isAuth:e.auth.isAuth,id:e.auth.id,email:e.auth.email,profile:e.auth.profile}}),{logoutThunk:S.d})(ne),re=a(117),ie=a.n(re),ce=function(e){return Object(Z.jsx)("div",{className:ie.a.music,children:"Music"})},oe=function(e){var t=Object(Z.jsx)("iframe",{title:"news",width:"800",height:"350",className:"news",src:"http://feeds.feedburner.com/lenta/MpsS"}),a=Object(Z.jsx)("iframe",{title:"news",width:"800",height:"350",className:"news",src:"http://feeds.feedburner.com/zakon/vWos"}),n=Object(Z.jsx)("iframe",{title:"news",width:"800",height:"350",className:"news",src:"http://feeds.feedburner.com/mail/YeGC"}),s=Object(Z.jsx)("iframe",{title:"news",width:"800",height:"350",className:"news",src:"http://feeds.feedburner.com/com/cMiY"}),r=Object(Z.jsx)("iframe",{title:"news",width:"800",height:"350",className:"news",src:"http://feeds.feedburner.com/kzt"});return Object(Z.jsxs)("div",{children:[Object(Z.jsx)("div",{children:t}),Object(Z.jsx)("div",{children:a}),Object(Z.jsx)("div",{children:n}),Object(Z.jsx)("div",{children:s}),Object(Z.jsx)("div",{children:r})]})},ue=a(118),le=a.n(ue),de=function(){var e=new FormData,t=document.querySelector("#photo");e.append("image",t.files[0]),d.b.sendPhoto(e).then((function(e){return console.log(e.data)}))},je=function(e){return Object(Z.jsxs)("div",{className:le.a.settings,children:[Object(Z.jsx)("p",{children:"Settings"}),Object(Z.jsx)("input",{type:"file",id:"photo"}),Object(Z.jsx)("button",{onClick:de,children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})]})},be=a(77),pe=a.n(be),fe=a(31),he=a(14),me=a.n(he),Oe=a(36),ve=a(17),ge=a(63),_e=a.n(ge),xe=function(e){var t=Object(B.useState)(!1),a=Object(ve.a)(t,2),n=a[0],s=a[1],r=Object(B.useState)(e.status),i=Object(ve.a)(r,2),c=i[0],o=i[1];Object(B.useEffect)((function(){o(e.status)}),[e.status]);return Object(Z.jsx)("div",{children:Object(Z.jsxs)("div",{onDoubleClick:function(){s(!0)},className:_e.a.status,children:[!n&&Object(Z.jsx)("div",{className:_e.a.statusArea,children:e.status||"----"}),n&&Object(Z.jsx)("div",{className:_e.a.textArea,children:Object(Z.jsx)("textarea",{maxLength:"300",cols:"60",rows:"5",placeholder:"\u0412\u0430\u0448 \u0441\u0442\u0430\u0442\u0443\u0441",onChange:function(e){o(e.currentTarget.value)},autoFocus:!0,onFocus:function(e){return e.target.select()},onBlur:function(){s(!1),e.updateStatus(c)},value:c})})]})})},we=function(e){var t=e.profile,a=e.status,n=e.updateStatus;Object(fe.a)(e,["profile","status","updateStatus"]);return Object(Z.jsxs)("div",{className:me.a.about,children:[Object(Z.jsx)(xe,{status:a,updateStatus:n}),Object(Z.jsxs)("div",{className:me.a.links,children:[Object(Z.jsx)("span",{className:me.a.divDescLabel,children:"Links:"}),Object(Z.jsx)("div",{children:t.contacts.facebook}),Object(Z.jsx)("div",{children:t.contacts.website}),Object(Z.jsx)("div",{children:t.contacts.vk}),Object(Z.jsx)("div",{children:t.contacts.twitter}),Object(Z.jsx)("div",{children:t.contacts.instagram}),Object(Z.jsx)("div",{children:t.contacts.youtube}),Object(Z.jsx)("div",{children:t.contacts.github})]}),Object(Z.jsxs)("div",{className:me.a.divDesc,children:[Object(Z.jsxs)("div",{children:[Object(Z.jsx)("span",{className:me.a.divDescLabel,children:"\u041e \u0441\u0435\u0431\u0435:"})," ",t.aboutMe]}),Object(Z.jsxs)("div",{children:[Object(Z.jsx)("span",{className:me.a.divDescLabel,children:"\u0418\u0449\u0435\u0442 \u0440\u0430\u0431\u043e\u0442\u0443:"})," ",t.lookingForAJobDescription]}),Object(Z.jsxs)("div",{children:[Object(Z.jsx)("span",{className:me.a.divDescLabel,children:"Phone:"}),t.lookingForAJob?"88005553535":"\u0441\u043a\u0440\u044b\u0442\u043e"]})]})]})},ke=a.p+"static/media/settingBtn.72679fc5.svg",Ne=a(79),ye=a.n(Ne),Se=function(e){return Object(Z.jsx)("div",{className:ye.a.bgBtn,children:Object(Z.jsx)("input",{disabled:e.isDownload,className:ye.a.backImgBtn,type:"image",src:ke,alt:"btn",onClick:e.onClick})})};var De=function(e){var t=e.profile,a=Object(fe.a)(e,["profile"]),n=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=F.a.useState(e),a=Object(ve.a)(t,2),n=a[0],s=a[1],r=F.a.useCallback((function(){s((function(e){return!e}))}),[]);return[n,r]}(),s=Object(ve.a)(n,2),r=s[0],i=s[1],c=function(){i()},o=t.photos.large||te.a;return Object(Z.jsxs)("div",{className:me.a.avaImg,children:[a.isDownload?Object(Z.jsx)("div",{className:me.a.loading,children:Object(Z.jsx)(Oe.a,{})}):Object(Z.jsx)("img",{src:o,alt:"avatar"}),a.isOwner?Object(Z.jsx)("div",{className:me.a.settingBtn,children:Object(Z.jsx)(Se,{isDownload:a.isDownload,onClick:c})}):null,!r&&null,r&&Object(Z.jsxs)("div",{children:[Object(Z.jsx)("div",{className:me.a.selectImg,children:" "}),Object(Z.jsxs)("div",{className:me.a.avatarInp,children:[a.isOwner?Object(Z.jsx)("input",{type:"file",onChange:function(e){e.target.files.length&&(a.savePhotoThunk(e.target.files[0]),c())}}):null,Object(Z.jsx)("input",{type:"button",onClick:c,value:"\u043e\u0442\u043c\u0435\u043d\u0430"})]})]})]})},Pe=function(e){var t=e.profile,a=e.updateStatus,n=e.status,s=Object(fe.a)(e,["profile","updateStatus","status"]);return t?Object(Z.jsxs)("div",{className:me.a.avaAndDesc,children:[Object(Z.jsxs)("div",{className:me.a.userDecsName,children:[t.fullName,Object(Z.jsxs)("div",{className:me.a.divDescLabelName,children:["id:",t.userId]})]}),Object(Z.jsx)(De,Object(l.a)({profile:t},s)),Object(Z.jsx)(we,{updateStatus:a,status:n,profile:t})]}):Object(Z.jsx)(Oe.a,{})},Ie=a(38),Ce=a.n(Ie),Ae=a(80),Le=a.n(Ae),Te=function(e){return Object(Z.jsxs)("div",{className:Le.a.item,children:[Object(Z.jsx)("img",{src:"https://topmsg.ru/wp-content/uploads/anonymous.jpg",alt:"avatar picture"}),e.message,Object(Z.jsxs)("div",{className:Le.a.like,children:[Object(Z.jsx)("span",{children:"like: "})," ",e.likescount]})]})},Me=a(48),Ee=a(74),Ue=function(e){var t=function(e){e.label;var t=Object(fe.a)(e,["label"]),a=Object(Me.e)(t),n=Object(ve.a)(a,1)[0];return Object(Z.jsx)(Z.Fragment,{children:Object(Z.jsx)("textarea",Object(l.a)(Object(l.a)({},n),t))})};return Object(Z.jsx)("div",{children:Object(Z.jsx)(Me.d,{initialValues:{postText:""},validationSchema:Ee.a({postText:Ee.b().min(2,"\u0425\u043e\u0442\u044f-\u0431\u044b 2 \u0441\u0438\u043c\u0432\u043e\u043b\u0430").max(500,"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e 500")}),onSubmit:function(t){e.addPost(t.postText)},children:function(e){return Object(Z.jsxs)(Me.c,{onSubmit:e.handleSubmit,children:[Object(Z.jsx)(t,{className:Ce.a.postTextField,name:"postText",type:"text-area",placeholder:" \u0427\u0442\u043e \u0443 \u0412\u0430\u0441 \u043d\u043e\u0432\u043e\u0433\u043e?",rows:"10",cols:"60"}),Object(Z.jsx)("div",{className:Ce.a.errors,children:Object(Z.jsx)(Me.a,{name:"postText"})}),Object(Z.jsx)("div",{className:Ce.a.button,children:Object(Z.jsx)("button",{type:"submit",children:"\u0417\u0430\u043f\u043e\u0441\u0442\u0438\u0442\u044c"})})]})}})})},Be=function(e){var t=Object(u.a)(e.postsState).reverse().map((function(e){return Object(Z.jsx)(Te,{message:e.message,likescount:e.likescount},e.id)}));return Object(Z.jsx)("div",{className:Ce.a.mypost,children:Object(Z.jsxs)("div",{children:[Object(Z.jsxs)("div",{className:Ce.a.labelMyPost,children:[Object(Z.jsx)("div",{children:Object(Z.jsx)("h3",{children:"My posts"})}),Object(Z.jsx)("div",{children:Object(Z.jsx)(Ue,{addPost:e.addPost})})]}),Object(Z.jsx)("div",{className:Ce.a.divPost,children:t})]})})},Fe=Object(Q.b)((function(e){return{postsState:e.profilePage.postsState,newPostText:e.profilePage.newPostText}}),(function(e){return{addPost:function(t){e(function(e){return{type:j,postText:e}}(t))}}}))(Be),He=function(e){var t=Object.assign({},e);return Object(Z.jsx)("div",{className:pe.a.allProfile,children:Object(Z.jsxs)("div",{className:pe.a.afterWall,children:[Object(Z.jsx)(Pe,Object(l.a)(Object(l.a)({},t),{},{isOwner:t.isOwner,profile:t.profile,status:t.status,updateStatus:t.updateStatus})),Object(Z.jsx)(Fe,{})]})})},ze=function(e){Object(R.a)(a,e);var t=Object(q.a)(a);function a(){return Object(H.a)(this,a),t.apply(this,arguments)}return Object(z.a)(a,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authorizedUserId)?(this.props.getProfileThunk(e),this.props.getUsersStatus(e)):this.props.history.push("/login")}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,a){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return Object(Z.jsx)(He,Object(l.a)(Object(l.a)({},this.props),{},{isOwner:!this.props.match.params.userId}))}}]),a}(F.a.Component),Re=Object(s.c)(Object(Q.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,aboutMe:e.profilePage.aboutMe,authorizedUserId:e.auth.id,isAuth:e.auth.isAuth,isDownload:e.profilePage.isDownload}}),{getProfileThunk:function(e){return function(){var t=Object(o.a)(c.a.mark((function t(a){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.b.getProfile(e);case 2:n=t.sent,a((s=n.data,{type:b,profile:s}));case 4:case"end":return t.stop()}var s}),t)})));return function(e){return t.apply(this,arguments)}}()},getUsersStatus:function(e){return function(){var t=Object(o.a)(c.a.mark((function t(a){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.b.getStatus(e);case 2:n=t.sent,a(v(n.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateStatus:function(e){return function(){var t=Object(o.a)(c.a.mark((function t(a){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.b.updateStatus(e);case 2:0===t.sent.data.resultCode&&a(v(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateUserAbout:function(e,t,a,n){return function(){var s=Object(o.a)(c.a.mark((function s(r){return c.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,d.b.updateAboutMe(e,t,a,n);case 2:0===s.sent.data.resultCode&&r(g(e));case 4:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}()},savePhotoThunk:function(e){return function(){var t=Object(o.a)(c.a.mark((function t(a){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(x(!0)),t.next=3,d.b.setMainPhotoApi(e);case 3:n=t.sent,a(x(!1)),0===n.data.resultCode&&a(_(n.data.data.photos));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),G.f)(ze),qe=F.a.lazy((function(){return a.e(5).then(a.bind(null,260))})),Ge=F.a.lazy((function(){return a.e(4).then(a.bind(null,259))})),Je=F.a.lazy((function(){return a.e(3).then(a.bind(null,258))})),We=function(e){Object(R.a)(a,e);var t=Object(q.a)(a);function a(){return Object(H.a)(this,a),t.apply(this,arguments)}return Object(z.a)(a,[{key:"componentDidMount",value:function(){this.props.initializeAppThunk()}},{key:"render",value:function(){return this.props.initialized?Object(Z.jsxs)("div",{children:[Object(Z.jsx)(se,{}),Object(Z.jsxs)("div",{className:"app-wrapper",children:[Object(Z.jsx)(V,{}),Object(Z.jsx)("div",{className:"app-wrapper-content",children:Object(Z.jsxs)(B.Suspense,{fallback:Object(Z.jsx)(Oe.a,{}),children:[Object(Z.jsx)(G.b,{path:"/dialogs",render:function(){return Object(Z.jsx)(Ge,{})}}),Object(Z.jsx)(G.b,{path:"/profile/:userId?",render:function(){return Object(Z.jsx)(Re,{})}}),Object(Z.jsx)(G.b,{path:"/users",render:function(){return Object(Z.jsx)(Je,{})}}),Object(Z.jsx)(G.b,{path:"/music",component:ce}),Object(Z.jsx)(G.b,{path:"/news",component:oe}),Object(Z.jsx)(G.b,{path:"/settings",component:je}),Object(Z.jsx)(G.b,{path:"/login",component:qe})]})})]})]}):Object(Z.jsx)(Oe.a,{})}}]),a}(F.a.Component),Xe=Object(s.c)(G.f,Object(Q.b)((function(e){return{initialized:e.app.initialized}}),{initializeAppThunk:function(){return function(e){var t=e(Object(S.a)());Promise.all([t]).then((function(){e({type:P})}))}}}))(We);U.a.render(Object(Z.jsx)(F.a.StrictMode,{children:Object(Z.jsx)(X.a,{children:Object(Z.jsx)(Q.a,{store:M,children:Object(Z.jsx)(Xe,{})})})}),document.getElementById("root")),n()},34:function(e,t,a){e.exports={wr1:"HeaderHtml_wr1__2vf40",loginBlock:"HeaderHtml_loginBlock__3xEN0",avaLogin:"HeaderHtml_avaLogin__15YA2",userLogin:"HeaderHtml_userLogin__DRrF8",outBtn:"HeaderHtml_outBtn__zMsfI",headLogo:"HeaderHtml_headLogo__Fsybj"}},36:function(e,t,a){"use strict";var n=a(78),s=a.n(n),r=(a(0),a(1));t.a=function(){return Object(r.jsx)("div",{className:s.a.preloader,children:Object(r.jsx)("div",{className:s.a.spinner,children:" "})})}},38:function(e,t,a){e.exports={mypost:"MyPosts_mypost__37-rj",divPost:"MyPosts_divPost__3iMqs",labelMyPost:"MyPosts_labelMyPost__jyeCq",errors:"MyPosts_errors__hxFIs",button:"MyPosts_button__Ctg2l"}},39:function(e,t,a){"use strict";a.d(t,"a",(function(){return j})),a.d(t,"c",(function(){return b})),a.d(t,"d",(function(){return p}));var n=a(7),s=a.n(n),r=a(21),i=a(2),c=a(12),o="network/auth/AUTH_USER_DATA",u="network/profile/PROFILE_INFO",l={id:null,email:null,login:null,isAuth:!1,profile:null},d=function(e,t,a,n,s){return{type:o,payload:{id:e,email:t,login:a,isAuth:n,profile:s}}},j=function(){return function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,i,o,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.me();case 2:if(0!==(a=e.sent).data.resultCode){e.next=10;break}return n=a.data.data,r=n.id,i=n.email,o=n.login,t(d(r,i,o,!0)),e.next=8,c.b.getProfile(r);case 8:l=e.sent,t((s=l.data,{type:u,profile:s}));case 10:case"end":return e.stop()}var s}),e)})));return function(t){return e.apply(this,arguments)}}()},b=function(e,t,a,n,i,o,u){return function(){var i=Object(r.a)(s.a.mark((function r(i){var l,d;return s.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,c.a.login(e,t,a,u);case 2:if(0===(l=s.sent).data.resultCode&&i(j()),10!==l.data.resultCode){s.next=12;break}return o(l.data.messages),s.next=8,c.a.getCaptcha();case 8:d=s.sent,n(d.data.url),s.next=13;break;case 12:o(l.data.messages);case 13:case"end":return s.stop()}}),r)})));return function(e){return i.apply(this,arguments)}}()},p=function(){return function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.logout();case 2:0===e.sent.data.resultCode&&t(d(null,null,null,!1,null));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o:return Object(i.a)(Object(i.a)({},e),t.payload);case u:return Object(i.a)(Object(i.a)({},e),{},{profile:t.profile});default:return e}}},46:function(e,t,a){e.exports={dialogs:"Dialogs_dialogs__3uS9c",usersDialogs:"Dialogs_usersDialogs__3WFca",user:"Dialogs_user__1zwAL",activeLink:"Dialogs_activeLink__2mDNt",oneMessage:"Dialogs_oneMessage__3vJTs",name:"Dialogs_name__3NwXD",messages:"Dialogs_messages__pVrRU",other:"Dialogs_other__1oZ_0",answer:"Dialogs_answer__2BVBv",inputMessage:"Dialogs_inputMessage__3QDcu",errors:"Dialogs_errors__10lKJ",button:"Dialogs_button__1p1Va"}},47:function(e,t,a){"use strict";t.a=a.p+"static/media/no-user-26.d821428d.jpg"},63:function(e,t,a){e.exports={status:"ProfileStatus_status__1KsJa",textArea:"ProfileStatus_textArea___qW5N",statusArea:"ProfileStatus_statusArea__1-8Iu"}},77:function(e,t,a){e.exports={afterWall:"Profile_afterWall__1hz4r",allProfile:"Profile_allProfile__3d2iy"}},78:function(e,t,a){e.exports={preloader:"Preloader_preloader__1k8b5",spinner:"Preloader_spinner__XNCHn",spin:"Preloader_spin__3FQC6"}},79:function(e,t,a){e.exports={backImgBtn:"SettingBtn_backImgBtn__2CERy",bgBtn:"SettingBtn_bgBtn__2ETN8"}},80:function(e,t,a){e.exports={item:"Post_item___KzIi",like:"Post_like__28MpH"}},82:function(e,t,a){"use strict";a.d(t,"b",(function(){return c}));var n=a(13),s=a(2),r="network/messages/SEND-MESSAGE",i={dialogsState:[{id:1,name:"Dimich",avatar:"https://i.ytimg.com/vi/iJ4UGNGzJzY/hqdefault.jpg?sqp=-oaymwEXCOADEI4CSFryq4qpAwkIARUAAIhCGAE=&rs=AOn4CLBnmgSojZdsUkxXfQLs7wK5dW0irw"},{id:2,name:"Maria",avatar:"https://www.seas.harvard.edu/sites/default/files/styles/embedded_image_large/public/images/news/zlatkova_maria_web_square.jpg?itok=Z2IqHSei"},{id:3,name:"Hannah",avatar:"https://cs50.harvard.edu/college/2019/fall/staff/media/Emma-Humphrey.png"},{id:4,name:"Rob",avatar:"https://cra.org/wp-content/uploads/2018/05/Robert-Bowden.jpg"},{id:5,name:"David",avatar:"https://upload.wikimedia.org/wikipedia/commons/thumb/3/38/David_J._Malan.png/220px-David_J._Malan.png"},{id:6,name:"Victor",avatar:"https://i.ytimg.com/an/TW0FUhT0m-Bqg2trTbSs0g/featured_channel.jpg?v=5fc22bf3"}],messageState:[{id:1,message:"Hello"},{id:2,message:"Hello World!"},{id:3,message:"All love triangle"},{id:4,message:"Nice 2 mu"},{id:5,message:"Yo"},{id:6,message:"Hello"}],answerState:[{id:1,message:"Hello, Dimich"},{id:2,message:"I can write it on JS!"}]},c=function(e){return{type:r,messageText:e}};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r:return Object(s.a)(Object(s.a)({},e),{},{answerState:[].concat(Object(n.a)(e.answerState),[{id:3,message:t.messageText}])});default:return e}}},91:function(e,t,a){"use strict";a(0);var n=a(46),s=a.n(n),r=a(16),i=a(1);t.a=function(e){var t="/dialogs/"+e.id;return Object(i.jsx)("div",{className:s.a.user,children:Object(i.jsxs)(r.b,{activeClassName:s.a.activeLink,to:t,children:[Object(i.jsx)("div",{className:s.a.avatar,children:Object(i.jsx)("img",{src:e.avatar,alt:"avatar"})}),Object(i.jsx)("div",{className:s.a.name,children:e.name})]})})}}},[[252,1,2]]]);
//# sourceMappingURL=main.522e6f4e.chunk.js.map